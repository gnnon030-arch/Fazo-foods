<!DOCTYPE html>
<html lang="uz">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=yes">
    <link rel="icon" type="image/svg+xml"
        href="file:///C:/Users/user/Desktop/%7B135B220E-019B-469C-9F53-436A7FEC72C0%7D.png">
    <title>Fazo foods | 180+ taomlar</title>

    <!-- KODNI CTRL+U BILAN KO'RISHNI BLOKLASH -->
    <script>
        document.addEventListener('contextmenu', function (e) {
            e.preventDefault();
        });

        document.addEventListener('keydown', function (e) {
            if (e.key === 'F12' ||
                (e.ctrlKey && e.shiftKey && e.key === 'I') ||
                (e.ctrlKey && e.shiftKey && e.key === 'i') ||
                (e.ctrlKey && e.shiftKey && e.key === 'J') ||
                (e.ctrlKey && e.shiftKey && e.key === 'j') ||
                (e.ctrlKey && e.key === 'U') ||
                (e.ctrlKey && e.key === 'u') ||
                (e.ctrlKey && e.key === 's') ||
                (e.ctrlKey && e.key === 'S')) {
                e.preventDefault();
                return false;
            }
        });

        console.log('%cðŸš« Kodni ko\'rish bloklangan!', 'color: red; font-size: 20px; font-weight: bold;');
    </script>

    <link
        href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;500;600;700;800;900&family=Montserrat:wght@300;400;500;600;700;800&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        :root {
            --primary: #f5b342;
            --primary-dark: #e09d2e;
            --bg: #0f0b07;
            --card-bg: #1e1610;
            --accent: #ffd966;
            --text-light: #ffffff;
            --text-muted: #e0d6cc;
            --admin-bg: #1a130c;
            --success: #4caf50;
            --danger: #f44336;
            --warning: #ff9800;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            background: linear-gradient(135deg, #0f0b07 0%, #1a130c 100%);
            color: var(--text-light);
            overflow-x: hidden;
            scroll-behavior: smooth;
            font-family: 'Montserrat', sans-serif;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }

        h1,
        h2,
        h3,
        h4 {
            font-family: 'Playfair Display', serif;
            font-weight: 800;
            letter-spacing: -0.5px;
        }

        @keyframes float {

            0%,
            100% {
                transform: translateY(0) rotate(0deg);
            }

            50% {
                transform: translateY(-8px) rotate(3deg);
            }
        }

        .float-emoji {
            display: inline-block;
            animation: float 3s infinite ease-in-out;
        }

        @keyframes slowSpin {
            0% {
                transform: rotate(0deg) scale(1);
            }

            50% {
                transform: rotate(5deg) scale(1.05);
            }

            100% {
                transform: rotate(0deg) scale(1);
            }
        }

        @keyframes float3D {
            0% {
                transform: perspective(1000px) rotateY(0deg) translateZ(0);
            }

            25% {
                transform: perspective(1000px) rotateY(5deg) translateZ(20px);
            }

            50% {
                transform: perspective(1000px) rotateY(0deg) translateZ(0);
            }

            75% {
                transform: perspective(1000px) rotateY(-5deg) translateZ(20px);
            }

            100% {
                transform: perspective(1000px) rotateY(0deg) translateZ(0);
            }
        }

        .animated-image {
            animation: float3D 8s ease-in-out infinite;
            transition: all 0.5s ease;
            box-shadow: 0 30px 60px rgba(245, 179, 66, 0.3);
            border: 4px solid var(--primary);
        }

        .animated-image:hover {
            animation: slowSpin 3s ease-in-out infinite;
            transform: scale(1.08);
            box-shadow: 0 40px 80px rgba(245, 179, 66, 0.5);
            border-color: var(--primary-dark);
        }

        nav {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 5%;
            background: rgba(15, 11, 7, 0.98);
            backdrop-filter: blur(10px);
            position: sticky;
            top: 0;
            z-index: 1000;
            border-bottom: 1px solid rgba(245, 179, 66, 0.2);
            flex-wrap: nowrap;
            gap: 10px;
        }

        /* LOGOTIP - CHAP TOMON */
        .logo-container {
            display: flex;
            align-items: center;
            gap: 8px;
            flex-shrink: 0;
        }

        .logo-image {
            width: 45px;
            height: 45px;
            background: linear-gradient(135deg, var(--primary), #ffd966);
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            color: #0f0b07;
            box-shadow: 0 5px 15px rgba(245, 179, 66, 0.4);
        }

        .logo-image:hover {
            transform: rotate(5deg) scale(1.05);
        }

        .logo-text {
            display: flex;
            flex-direction: column;
        }

        .logo-main {
            font-size: 20px;
            font-weight: 900;
            color: var(--primary);
            font-family: 'Playfair Display', serif;
            text-shadow: 0 2px 10px rgba(245, 179, 66, 0.3);
            line-height: 1.2;
        }

        .logo-main span {
            color: var(--text-light);
            font-weight: 700;
        }

        .logo-sub {
            font-size: 9px;
            color: var(--text-muted);
            text-transform: uppercase;
            letter-spacing: 2px;
            font-weight: 300;
            margin-top: 2px;
        }

        .nav-right {
            display: flex;
            gap: 10px;
            align-items: center;
            flex-wrap: nowrap;
            flex-shrink: 0;
        }

        /* HAMBURGER MENU STYLES */
        .hamburger-menu {
            display: none;
            flex-direction: column;
            cursor: pointer;
            gap: 5px;
            padding: 8px;
            z-index: 1001;
            background: rgba(245, 179, 66, 0.1);
            border-radius: 8px;
            border: 1px solid rgba(245, 179, 66, 0.2);
        }

        .hamburger-menu span {
            width: 25px;
            height: 2.5px;
            background: var(--primary);
            border-radius: 3px;
            transition: all 0.3s ease;
        }

        .hamburger-menu.active span:nth-child(1) {
            transform: rotate(45deg) translate(6px, 6px);
        }

        .hamburger-menu.active span:nth-child(2) {
            opacity: 0;
        }

        .hamburger-menu.active span:nth-child(3) {
            transform: rotate(-45deg) translate(6px, -6px);
        }

        .mobile-menu {
            position: fixed;
            top: 0;
            right: -100%;
            width: 280px;
            height: 100vh;
            background: var(--admin-bg);
            z-index: 1002;
            padding: 80px 15px 20px;
            transition: right 0.3s ease;
            border-left: 2px solid var(--primary);
            box-shadow: -5px 0 30px rgba(0, 0, 0, 0.5);
        }

        .mobile-menu.active {
            right: 0;
        }

        .mobile-menu-overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.7);
            z-index: 1001;
        }

        .mobile-menu-overlay.active {
            display: block;
        }

        .mobile-menu-item {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 12px 15px;
            color: var(--text-light);
            text-decoration: none;
            font-size: 15px;
            border-radius: 10px;
            margin-bottom: 8px;
            transition: all 0.3s ease;
            border: 1px solid rgba(245, 179, 66, 0.2);
        }

        .mobile-menu-item:hover {
            background: rgba(245, 179, 66, 0.1);
            border-color: var(--primary);
            transform: translateX(-3px);
        }

        .mobile-menu-item i {
            width: 22px;
            color: var(--primary);
            font-size: 16px;
        }

        .profile-container {
            position: relative;
            display: inline-block;
        }

        .profile-icon {
            width: 42px;
            height: 42px;
            border-radius: 50%;
            background: var(--primary);
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            border: 2px solid transparent;
            transition: 0.3s;
            overflow: hidden;
        }

        .profile-icon img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .profile-icon i {
            font-size: 20px;
            color: #0f0b07;
        }

        .profile-icon:hover {
            border-color: white;
            transform: scale(1.05);
        }

        .profile-dropdown {
            position: absolute;
            right: 0;
            top: 50px;
            width: 300px;
            background: var(--admin-bg);
            border: 1px solid var(--primary);
            border-radius: 12px;
            padding: 20px;
            display: none;
            z-index: 1001;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
        }

        .profile-dropdown.active {
            display: block;
        }

        .profile-dropdown-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }

        .profile-dropdown-close {
            width: 28px;
            height: 28px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.08);
            border: none;
            color: var(--text-muted);
            font-size: 16px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: 0.2s;
        }

        .profile-dropdown-close:hover {
            background: rgba(245, 179, 66, 0.15);
            color: var(--primary);
        }

        .profile-header {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 1px solid rgba(245, 179, 66, 0.2);
        }

        .profile-avatar {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            overflow: hidden;
            cursor: pointer;
            border: 2px solid var(--primary);
        }

        .profile-avatar img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .profile-info h4 {
            color: var(--primary);
            margin-bottom: 5px;
        }

        .profile-info p {
            font-size: 12px;
            color: var(--text-muted);
        }

        .profile-field {
            margin-bottom: 15px;
        }

        .profile-field label {
            display: block;
            font-size: 12px;
            color: var(--text-muted);
            margin-bottom: 5px;
        }

        .profile-field input {
            width: 100%;
            padding: 10px;
            background: #2c1e14;
            border: 1px solid rgba(245, 179, 66, 0.2);
            border-radius: 8px;
            color: var(--text-light);
            font-size: 14px;
        }

        .profile-field input:focus {
            outline: none;
            border-color: var(--primary);
        }

        .profile-field input[readonly] {
            background: rgba(44, 30, 20, 0.5);
            color: var(--text-muted);
            cursor: not-allowed;
        }

        .save-profile-btn {
            background: var(--primary);
            color: #0f0b07;
            border: none;
            padding: 12px;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            width: 100%;
            margin-top: 10px;
            transition: 0.3s;
        }

        .save-profile-btn:hover {
            background: var(--primary-dark);
            transform: translateY(-2px);
        }

        .logout-btn {
            background: transparent;
            color: var(--danger);
            border: 1px solid var(--danger);
            padding: 12px;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            width: 100%;
            margin-top: 10px;
            transition: 0.3s;
        }

        .logout-btn:hover {
            background: var(--danger);
            color: white;
        }

        .badge {
            padding: 5px 10px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 600;
            display: inline-block;
        }

        .badge-success {
            background: var(--success);
            color: white;
        }

        .badge-danger {
            background: var(--danger);
            color: white;
        }

        .badge-warning {
            background: var(--warning);
            color: #0f0b07;
        }

        .badge-admin {
            background: linear-gradient(135deg, #f5b342, #ffd966);
            color: #0f0b07;
        }

        .search-container {
            position: relative;
            display: inline-block;
        }

        .search-input {
            background: rgba(255, 255, 255, 0.03);
            border: 1px solid rgba(245, 179, 66, 0.2);
            border-radius: 8px;
            padding: 10px 35px 10px 15px;
            color: var(--text-light);
            font-size: 14px;
            width: 200px;
            transition: 0.3s;
        }

        .search-input:focus {
            outline: none;
            border-color: var(--primary);
            background: rgba(255, 255, 255, 0.05);
            width: 220px;
        }

        .search-input::placeholder {
            color: var(--text-muted);
            opacity: 0.7;
        }

        .search-icon {
            position: absolute;
            right: 12px;
            top: 50%;
            transform: translateY(-50%);
            color: var(--primary);
            cursor: pointer;
            font-size: 14px;
        }

        .clear-search {
            position: absolute;
            right: 35px;
            top: 50%;
            transform: translateY(-50%);
            color: var(--text-muted);
            cursor: pointer;
            font-size: 12px;
            display: none;
        }

        .clear-search:hover {
            color: var(--primary);
        }

        .nav-btn {
            background: rgba(255, 255, 255, 0.03);
            padding: 10px 15px;
            border-radius: 8px;
            font-size: 14px;
            cursor: pointer;
            color: var(--text-light);
            border: 1px solid rgba(245, 179, 66, 0.2);
            transition: 0.3s;
            font-weight: 500;
            text-decoration: none;
            white-space: nowrap;
        }

        .nav-btn:hover {
            border-color: var(--primary);
            background: rgba(245, 179, 66, 0.1);
            color: var(--primary);
            transform: translateY(-2px);
        }

        .cart-icon-btn {
            background: var(--primary);
            width: 42px;
            height: 42px;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            position: relative;
            box-shadow: 0 5px 20px rgba(245, 179, 66, 0.4);
            transition: 0.3s;
            font-size: 18px;
        }

        .cart-icon-btn:hover {
            transform: scale(1.05);
            background: var(--primary-dark);
        }

        .cart-icon-btn span {
            position: absolute;
            top: -5px;
            right: -5px;
            background: var(--danger);
            color: white;
            border-radius: 50%;
            width: 18px;
            height: 18px;
            font-size: 11px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .admin-panel {
            position: fixed;
            right: -1000px;
            top: 0;
            width: 1000px;
            max-width: 95vw;
            height: 100vh;
            background: var(--admin-bg);
            z-index: 2000;
            transition: 0.4s;
            padding: 30px;
            box-shadow: -10px 0 50px rgba(0, 0, 0, 0.8);
            overflow-y: auto;
            border-left: 2px solid var(--primary);
        }

        .admin-panel.active {
            right: 0;
        }

        .admin-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 2px solid rgba(245, 179, 66, 0.3);
        }

        .admin-title {
            font-size: 28px;
            color: var(--primary);
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .admin-close {
            font-size: 28px;
            cursor: pointer;
            color: var(--text-muted);
            transition: 0.3s;
        }

        .admin-close:hover {
            color: var(--primary);
            transform: rotate(90deg);
        }

        .admin-login-box {
            text-align: center;
            padding: 50px;
            background: rgba(0, 0, 0, 0.2);
            border-radius: 20px;
            margin-top: 50px;
        }

        .admin-login-box h2 {
            color: var(--primary);
            margin-bottom: 30px;
        }

        .admin-login-box input {
            width: 100%;
            max-width: 300px;
            padding: 15px;
            background: #2c1e14;
            border: 1px solid rgba(245, 179, 66, 0.2);
            border-radius: 12px;
            color: var(--text-light);
            font-size: 16px;
            margin-bottom: 20px;
        }

        .admin-login-box input:focus {
            outline: none;
            border-color: var(--primary);
        }

        .admin-login-box button {
            background: var(--primary);
            color: #0f0b07;
            padding: 15px 40px;
            border: none;
            border-radius: 12px;
            font-weight: 800;
            cursor: pointer;
            font-size: 16px;
        }

        .admin-tabs {
            display: flex;
            gap: 10px;
            margin-bottom: 30px;
            flex-wrap: wrap;
        }

        .admin-tab {
            padding: 12px 20px;
            background: rgba(255, 255, 255, 0.03);
            border: 1px solid rgba(245, 179, 66, 0.2);
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            transition: 0.3s;
            font-size: 14px;
        }

        .admin-tab:hover,
        .admin-tab.active {
            background: var(--primary);
            color: #0f0b07;
            border-color: var(--primary);
        }

        .admin-content {
            display: none;
        }

        .admin-content.active {
            display: block;
        }

        .admin-section-title {
            font-size: 24px;
            margin-bottom: 20px;
            color: var(--primary);
            position: relative;
            padding-bottom: 10px;
            border-bottom: 2px solid rgba(245, 179, 66, 0.3);
        }

        .admin-search-container {
            position: relative;
            margin-bottom: 30px;
        }

        .admin-search-input {
            width: 100%;
            padding: 15px 50px 15px 20px;
            background: #2c1e14;
            border: 1px solid rgba(245, 179, 66, 0.2);
            border-radius: 8px;
            color: var(--text-light);
            font-size: 15px;
            transition: 0.3s;
        }

        .admin-search-input:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(245, 179, 66, 0.1);
        }

        .admin-search-input::placeholder {
            color: var(--text-muted);
            opacity: 0.7;
        }

        .admin-search-icon {
            position: absolute;
            right: 20px;
            top: 50%;
            transform: translateY(-50%);
            color: var(--primary);
            font-size: 18px;
        }

        .admin-clear-search {
            position: absolute;
            right: 50px;
            top: 50%;
            transform: translateY(-50%);
            color: var(--text-muted);
            cursor: pointer;
            font-size: 16px;
            display: none;
        }

        .admin-clear-search:hover {
            color: var(--primary);
        }

        .admin-search-stats {
            text-align: right;
            margin-top: 5px;
            font-size: 13px;
            color: var(--text-muted);
        }

        .admin-search-stats span {
            color: var(--primary);
            font-weight: 600;
        }

        .users-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
        }

        .users-table th {
            background: rgba(245, 179, 66, 0.1);
            padding: 12px;
            text-align: left;
            color: var(--primary);
            font-weight: 600;
            border-bottom: 2px solid var(--primary);
        }

        .users-table td {
            padding: 10px 12px;
            border-bottom: 1px solid rgba(245, 179, 66, 0.1);
            vertical-align: middle;
            font-size: 14px;
        }

        .users-table tr:hover {
            background: rgba(245, 179, 66, 0.05);
        }

        .users-table tr.blocked {
            background: rgba(244, 67, 54, 0.1);
            opacity: 0.7;
        }

        .block-btn {
            background: var(--danger);
            color: white;
            border: none;
            padding: 5px 8px;
            border-radius: 5px;
            cursor: pointer;
            margin-right: 3px;
            font-size: 11px;
        }

        .unblock-btn {
            background: var(--success);
            color: white;
            border: none;
            padding: 5px 8px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 11px;
        }

        .delete-user-btn {
            background: #7b0000;
            color: white;
            border: none;
            padding: 5px 8px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 11px;
            margin-left: 3px;
        }

        .delete-user-btn:hover {
            background: #a00000;
        }

        .make-admin-btn {
            background: linear-gradient(135deg, #f5b342, #e09d2e);
            color: #0f0b07;
            border: none;
            padding: 5px 8px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 11px;
            margin-left: 3px;
            font-weight: 700;
        }

        .remove-admin-btn {
            background: #555;
            color: white;
            border: none;
            padding: 5px 8px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 11px;
            margin-left: 3px;
        }

        .max-order-input {
            width: 60px;
            padding: 5px;
            background: #2c1e14;
            border: 1px solid rgba(245, 179, 66, 0.2);
            border-radius: 5px;
            color: white;
            text-align: center;
        }

        .update-max-btn {
            background: var(--primary);
            color: #0f0b07;
            border: none;
            padding: 5px 8px;
            border-radius: 5px;
            cursor: pointer;
            margin-left: 3px;
            font-size: 11px;
        }

        .orders-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
        }

        .orders-table th {
            background: rgba(245, 179, 66, 0.1);
            padding: 12px;
            text-align: left;
            color: var(--primary);
            font-weight: 600;
            border-bottom: 2px solid var(--primary);
            font-size: 14px;
        }

        .orders-table td {
            padding: 12px;
            border-bottom: 1px solid rgba(245, 179, 66, 0.1);
            font-size: 13px;
        }

        .orders-table tr:hover {
            background: rgba(245, 179, 66, 0.05);
        }

        .order-items {
            max-width: 250px;
            font-size: 12px;
            color: var(--text-muted);
        }

        .delete-order-btn {
            background: var(--danger);
            color: white;
            border: none;
            padding: 5px 8px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 11px;
            transition: 0.2s;
        }

        .delete-order-btn:hover {
            background: #d32f2f;
            transform: scale(1.05);
        }

        .products-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }

        .product-edit-card {
            background: rgba(255, 255, 255, 0.03);
            border: 1px solid rgba(245, 179, 66, 0.2);
            border-radius: 12px;
            padding: 15px;
            transition: 0.3s;
        }

        .product-edit-card:hover {
            transform: translateY(-5px);
            border-color: var(--primary);
            box-shadow: 0 10px 30px rgba(245, 179, 66, 0.15);
        }

        .product-edit-card img {
            width: 100%;
            height: 140px;
            object-fit: cover;
            border-radius: 8px;
            margin-bottom: 10px;
            cursor: pointer;
            border: 2px solid transparent;
            transition: 0.3s;
        }

        .product-edit-card img:hover {
            border-color: var(--primary);
        }

        .product-edit-card input,
        .product-edit-card select {
            width: 100%;
            padding: 8px;
            margin-bottom: 8px;
            background: #2c1e14;
            border: 1px solid rgba(245, 179, 66, 0.2);
            border-radius: 6px;
            color: var(--text-light);
            font-size: 13px;
        }

        .product-edit-card input:focus {
            outline: none;
            border-color: var(--primary);
        }

        .product-weight-badge {
            display: inline-block;
            background: rgba(245, 179, 66, 0.1);
            color: var(--primary);
            padding: 4px 8px;
            border-radius: 20px;
            font-size: 12px;
            margin-bottom: 8px;
        }

        .product-category-badge {
            display: inline-block;
            background: rgba(255, 255, 255, 0.05);
            color: var(--text-muted);
            padding: 4px 8px;
            border-radius: 20px;
            font-size: 11px;
            margin-left: 5px;
        }

        .save-btn {
            background: var(--primary);
            color: #0f0b07;
            border: none;
            padding: 8px;
            border-radius: 6px;
            cursor: pointer;
            font-weight: 600;
            width: 100%;
            transition: 0.3s;
            font-size: 13px;
        }

        .save-btn:hover {
            background: var(--primary-dark);
        }

        .delete-btn {
            background: var(--danger);
            color: white;
            border: none;
            padding: 8px;
            border-radius: 6px;
            cursor: pointer;
            font-weight: 600;
            width: 100%;
            margin-top: 8px;
            font-size: 13px;
        }

        .add-user-form {
            background: rgba(245, 179, 66, 0.05);
            border: 1px solid rgba(245, 179, 66, 0.2);
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 25px;
        }

        .add-user-form h4 {
            color: var(--primary);
            margin-bottom: 15px;
            font-size: 16px;
        }

        .add-user-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 10px;
            margin-bottom: 12px;
        }

        .add-user-grid input {
            padding: 10px;
            background: #2c1e14;
            border: 1px solid rgba(245, 179, 66, 0.2);
            border-radius: 6px;
            color: var(--text-light);
            font-size: 13px;
        }

        .add-user-grid input:focus {
            outline: none;
            border-color: var(--primary);
        }

        .add-user-btn {
            background: var(--primary);
            color: #0f0b07;
            border: none;
            padding: 10px 20px;
            border-radius: 6px;
            font-weight: 700;
            cursor: pointer;
            font-size: 14px;
            transition: 0.2s;
        }

        .add-user-btn:hover {
            background: var(--primary-dark);
        }

        .hero {
            display: flex;
            align-items: center;
            padding: 50px 5% 40px;
            min-height: 80vh;
            gap: 40px;
        }

        .hero-left {
            flex: 1.2;
        }

        .top-badge {
            background: rgba(245, 179, 66, 0.1);
            padding: 8px 18px;
            border-radius: 40px;
            font-size: 13px;
            display: inline-flex;
            align-items: center;
            gap: 8px;
            margin-bottom: 20px;
            border: 1px solid rgba(245, 179, 66, 0.3);
            color: var(--primary);
            font-weight: 600;
        }

        .hero-left h1 {
            font-size: 60px;
            font-weight: 900;
            line-height: 1.1;
            margin-bottom: 20px;
            font-family: 'Playfair Display', serif;
            background: linear-gradient(135deg, #ffffff 0%, #f5b342 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .hero-left h1 span {
            color: var(--primary);
            -webkit-text-fill-color: var(--primary);
            border-bottom: 3px solid var(--primary);
            padding-bottom: 5px;
        }

        .hero-left p {
            color: var(--text-muted);
            font-size: 16px;
            margin-bottom: 30px;
            line-height: 1.8;
            max-width: 500px;
            font-weight: 400;
        }

        .cta-btn {
            background: linear-gradient(135deg, var(--primary), #ffd966);
            color: #0f0b07;
            padding: 15px 35px;
            border-radius: 10px;
            font-weight: 800;
            font-size: 15px;
            border: none;
            cursor: pointer;
            box-shadow: 0 10px 30px rgba(245, 179, 66, 0.3);
            transition: 0.3s;
            text-transform: uppercase;
            letter-spacing: 1.5px;
        }

        .cta-btn:hover:not(:disabled) {
            transform: translateY(-3px);
            box-shadow: 0 15px 40px rgba(245, 179, 66, 0.4);
        }

        .cta-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .stats-box {
            display: flex;
            gap: 40px;
            margin-top: 40px;
        }

        .stat-item h2 {
            font-size: 36px;
            font-weight: 900;
            color: var(--primary);
            font-family: 'Playfair Display', serif;
            text-shadow: 0 2px 10px rgba(245, 179, 66, 0.2);
        }

        .stat-item p {
            font-size: 14px;
            color: var(--text-muted);
            margin-top: 5px;
            font-weight: 500;
            letter-spacing: 0.5px;
        }

        .hero-right {
            flex: 1;
            display: flex;
            justify-content: flex-end;
        }

        .circle-img {
            width: 450px;
            height: 450px;
            object-fit: cover;
            border-radius: 20px;
            box-shadow: 0 30px 60px rgba(0, 0, 0, 0.5);
            border: 4px solid rgba(245, 179, 66, 0.3);
            transition: 0.3s;
        }

        .circle-img:hover {
            transform: scale(1.02);
            border-color: var(--primary);
        }

        .menu-section {
            padding: 60px 5% 80px;
            background: linear-gradient(135deg, #0f0b07 0%, #1a130c 100%);
        }

        .filter-bar {
            display: flex;
            gap: 10px;
            margin-bottom: 30px;
            flex-wrap: wrap;
            justify-content: center;
        }

        .filter-btn {
            padding: 12px 25px;
            border-radius: 8px;
            background: rgba(255, 255, 255, 0.03);
            border: 1px solid rgba(245, 179, 66, 0.2);
            color: var(--text-light);
            cursor: pointer;
            font-weight: 600;
            transition: 0.3s;
            font-size: 13px;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .filter-btn.active {
            background: var(--primary);
            border-color: var(--primary);
            color: #0f0b07;
        }

        .filter-btn:hover {
            border-color: var(--primary);
            background: rgba(245, 179, 66, 0.1);
        }

        .search-stats {
            text-align: center;
            margin-bottom: 20px;
            color: var(--text-muted);
            font-size: 14px;
        }

        .search-stats span {
            color: var(--primary);
            font-weight: 600;
        }

        .menu-grid {
            display: flex;
            flex-direction: column;
            gap: 30px;
        }

        .category-section {
            width: 100%;
        }

        .category-title {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 20px;
            padding-bottom: 8px;
            border-bottom: 2px solid var(--primary);
            font-size: 24px;
            color: var(--primary);
            font-family: 'Playfair Display', serif;
        }

        .category-title i {
            font-size: 26px;
        }

        /* HORIZONTAL SCROLL CATEGORY PRODUCTS */
        .category-products {
            display: flex;
            gap: 20px;
            overflow-x: auto;
            overflow-y: hidden;
            padding: 5px 0 20px 0;
            scroll-behavior: smooth;
            -webkit-overflow-scrolling: touch;
            scrollbar-width: thin;
            scrollbar-color: var(--primary) var(--card-bg);
        }

        .category-products::-webkit-scrollbar {
            height: 6px;
        }

        .category-products::-webkit-scrollbar-track {
            background: var(--card-bg);
            border-radius: 10px;
        }

        .category-products::-webkit-scrollbar-thumb {
            background: var(--primary);
            border-radius: 10px;
        }

        .category-products::-webkit-scrollbar-thumb:hover {
            background: var(--primary-dark);
        }

        .category-products .card {
            flex: 0 0 auto;
            width: 280px;
            background: var(--card-bg);
            padding: 20px;
            border-radius: 16px;
            border: 1px solid rgba(255, 255, 255, 0.03);
            transition: 0.3s;
            text-align: center;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            position: relative;
        }

        .card.blocked {
            opacity: 0.5;
            pointer-events: none;
            filter: grayscale(100%);
        }

        .card:hover {
            transform: translateY(-8px);
            border-color: var(--primary);
            box-shadow: 0 20px 40px rgba(245, 179, 66, 0.15);
        }

        .card img {
            width: 100%;
            height: 180px;
            border-radius: 12px;
            object-fit: cover;
            margin-bottom: 12px;
            border: 2px solid rgba(245, 179, 66, 0.1);
        }

        .card:hover img {
            border-color: var(--primary);
        }

        .card h3 {
            font-size: 18px;
            margin-bottom: 5px;
            color: var(--text-light);
            font-weight: 700;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .product-weight {
            font-size: 12px;
            color: var(--primary);
            margin-bottom: 8px;
            font-weight: 500;
            background: rgba(245, 179, 66, 0.1);
            display: inline-block;
            padding: 4px 10px;
            border-radius: 20px;
        }

        .price {
            font-size: 18px;
            font-weight: 700;
            color: var(--primary);
            margin-bottom: 10px;
        }

        .goto-btn {
            position: absolute;
            top: 10px;
            right: 10px;
            background: var(--primary);
            color: #0f0b07;
            width: 32px;
            height: 32px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            opacity: 0;
            transition: 0.3s;
            border: none;
            font-size: 14px;
        }

        .card:hover .goto-btn {
            opacity: 1;
        }

        .goto-btn:hover {
            transform: scale(1.1);
            background: var(--primary-dark);
        }

        .quantity-controls {
            display: flex;
            justify-content: space-between;
            align-items: center;
            gap: 5px;
            margin-top: 10px;
            background: rgba(0, 0, 0, 0.2);
            padding: 5px;
            border-radius: 8px;
        }

        .qty-btn {
            flex: 1;
            padding: 6px;
            border-radius: 6px;
            border: 1px solid rgba(245, 179, 66, 0.2);
            background: transparent;
            color: var(--text-light);
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            transition: 0.3s;
        }

        .qty-btn:disabled {
            opacity: 0.3;
            cursor: not-allowed;
        }

        .qty-btn:hover:not(:disabled) {
            border-color: var(--primary);
            background: rgba(245, 179, 66, 0.1);
            color: var(--primary);
        }

        .qty-btn.plus {
            background: var(--primary);
            border-color: var(--primary);
            color: #0f0b07;
        }

        .qty-btn.plus:hover:not(:disabled) {
            background: var(--primary-dark);
        }

        .qty-value {
            font-weight: 800;
            min-width: 30px;
            text-align: center;
            font-size: 14px;
            color: var(--primary);
        }

        .side-panel {
            position: fixed;
            right: -450px;
            top: 0;
            width: 400px;
            max-width: 90vw;
            height: 100vh;
            background: #1a130c;
            z-index: 2000;
            transition: 0.4s;
            padding: 30px 20px;
            box-shadow: -10px 0 50px rgba(0, 0, 0, 0.8);
            display: flex;
            flex-direction: column;
            overflow-y: auto;
            border-left: 1px solid rgba(245, 179, 66, 0.3);
        }

        .side-panel.active {
            right: 0;
        }

        #aboutModal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(15, 11, 7, 0.95);
            z-index: 3000;
            align-items: center;
            justify-content: center;
            backdrop-filter: blur(8px);
        }

        .about-box {
            background: #1a130c;
            padding: 40px;
            border-radius: 20px;
            max-width: 450px;
            width: 90%;
            border: 1px solid var(--primary);
            text-align: center;
            box-shadow: 0 30px 60px rgba(0, 0, 0, 0.5);
        }

        .checkout-form {
            display: flex;
            flex-direction: column;
            gap: 15px;
            margin: 15px 0;
        }

        .form-group {
            display: flex;
            flex-direction: column;
            gap: 5px;
        }

        .form-group label {
            font-size: 13px;
            color: var(--primary);
            font-weight: 600;
        }

        .form-group input,
        .form-group textarea {
            background: #2c1e14;
            border: 1px solid rgba(245, 179, 66, 0.2);
            border-radius: 8px;
            padding: 12px 15px;
            color: var(--text-light);
            font-size: 14px;
            transition: 0.3s;
        }

        .form-group input:focus,
        .form-group textarea:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(245, 179, 66, 0.1);
        }

        .order-summary {
            background: #2c1e14;
            border-radius: 10px;
            padding: 15px;
            margin: 15px 0;
            max-height: 180px;
            overflow-y: auto;
            border: 1px solid rgba(245, 179, 66, 0.2);
        }

        .summary-item {
            display: flex;
            justify-content: space-between;
            margin-bottom: 8px;
            font-size: 13px;
            color: var(--text-muted);
            padding: 5px 0;
            border-bottom: 1px dashed rgba(245, 179, 66, 0.2);
        }

        .summary-total {
            display: flex;
            justify-content: space-between;
            margin-top: 12px;
            padding-top: 12px;
            border-top: 2px solid var(--primary);
            font-weight: 800;
            color: var(--primary);
            font-size: 16px;
        }

        .step-indicator {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
        }

        .step {
            flex: 1;
            text-align: center;
            padding: 10px;
            border-radius: 8px;
            background: #2c1e14;
            color: var(--text-muted);
            font-size: 12px;
            font-weight: 600;
            border: 1px solid rgba(245, 179, 66, 0.2);
        }

        .step.active {
            background: var(--primary);
            color: #0f0b07;
            border-color: var(--primary);
        }

        .back-btn {
            background: transparent;
            border: 1px solid rgba(245, 179, 66, 0.3);
            color: var(--text-light);
            padding: 10px;
            border-radius: 8px;
            cursor: pointer;
            margin-bottom: 15px;
            transition: 0.3s;
            font-weight: 600;
        }

        .back-btn:hover:not(:disabled) {
            border-color: var(--primary);
            background: rgba(245, 179, 66, 0.1);
        }

        .error-message {
            color: #ff6b6b;
            font-size: 12px;
            margin-top: 5px;
            display: none;
        }

        .quantity-input {
            width: 50px;
            text-align: center;
            background: #2c1e14;
            border: 1px solid rgba(245, 179, 66, 0.2);
            border-radius: 6px;
            color: var(--text-light);
            padding: 5px;
            margin: 0 5px;
            font-size: 14px;
        }

        .quantity-input:focus {
            outline: none;
            border-color: var(--primary);
        }

        .footer {
            background: rgba(15, 11, 7, 0.95);
            border-top: 1px solid rgba(245, 179, 66, 0.2);
            padding: 30px 5%;
            text-align: center;
            margin-top: auto;
        }

        .footer-content {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 15px;
        }

        .footer-logo {
            font-size: 22px;
            font-weight: 800;
            color: var(--primary);
            font-family: 'Playfair Display', serif;
        }

        .footer-text {
            color: var(--text-muted);
            font-size: 14px;
            letter-spacing: 2px;
        }

        .footer-links {
            display: flex;
            gap: 25px;
            margin-top: 10px;
        }

        .footer-link {
            color: var(--text-muted);
            text-decoration: none;
            font-size: 14px;
            transition: 0.3s;
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .footer-link:hover {
            color: var(--primary);
        }

        .footer-copyright {
            color: var(--text-muted);
            font-size: 12px;
            margin-top: 15px;
            opacity: 0.8;
        }

        /* RESPONSIVE DESIGN */
        @media (max-width: 1200px) {
            .hero-left h1 {
                font-size: 50px;
            }

            .circle-img {
                width: 400px;
                height: 400px;
            }
        }

        @media (max-width: 992px) {
            .hero {
                flex-direction: column;
                text-align: center;
                padding: 40px 5%;
            }

            .hero-left h1 {
                font-size: 45px;
            }

            .hero-left p {
                margin-left: auto;
                margin-right: auto;
            }

            .stats-box {
                justify-content: center;
            }

            .circle-img {
                width: 350px;
                height: 350px;
            }

            .search-input {
                width: 160px;
            }

            .search-input:focus {
                width: 180px;
            }
        }

        @media (max-width: 768px) {
            nav {
                padding: 10px 4%;
            }

            .logo-image {
                width: 40px;
                height: 40px;
                font-size: 22px;
            }

            .logo-main {
                font-size: 18px;
            }

            .logo-sub {
                font-size: 8px;
                letter-spacing: 1.5px;
            }

            .search-input {
                width: 140px;
                padding: 8px 30px 8px 12px;
                font-size: 13px;
            }

            .search-input:focus {
                width: 160px;
            }

            .nav-btn {
                display: none;
            }

            .hamburger-menu {
                display: flex;
            }

            .profile-icon {
                width: 38px;
                height: 38px;
            }

            .cart-icon-btn {
                width: 38px;
                height: 38px;
                font-size: 16px;
            }

            .hero-left h1 {
                font-size: 38px;
            }

            .circle-img {
                width: 280px;
                height: 280px;
            }

            .stats-box {
                gap: 25px;
            }

            .stat-item h2 {
                font-size: 30px;
            }

            .stat-item p {
                font-size: 12px;
            }

            .filter-btn {
                padding: 10px 18px;
                font-size: 12px;
            }

            .category-title {
                font-size: 22px;
            }

            .profile-dropdown {
                width: 280px;
                right: -10px;
            }

            /* Telefonlarda 2 ta ustun */
            .category-products .card {
                width: calc(50vw - 30px);
                min-width: 160px;
            }

            .category-products .card img {
                height: 140px;
            }

            .card h3 {
                font-size: 16px;
            }

            .price {
                font-size: 16px;
            }

            .qty-btn {
                padding: 4px;
                font-size: 12px;
            }
        }

        @media (max-width: 576px) {
            .logo-container {
                gap: 5px;
            }

            .logo-image {
                width: 35px;
                height: 35px;
                font-size: 20px;
            }

            .logo-main {
                font-size: 16px;
            }

            .logo-sub {
                font-size: 7px;
            }

            .search-input {
                width: 120px;
                padding: 7px 25px 7px 10px;
                font-size: 12px;
            }

            .search-input:focus {
                width: 140px;
            }

            .profile-icon {
                width: 35px;
                height: 35px;
            }

            .cart-icon-btn {
                width: 35px;
                height: 35px;
                font-size: 15px;
            }

            .hamburger-menu {
                padding: 6px;
            }

            .hamburger-menu span {
                width: 22px;
            }

            .hero-left h1 {
                font-size: 32px;
            }

            .circle-img {
                width: 240px;
                height: 240px;
            }

            .stats-box {
                gap: 20px;
            }

            .stat-item h2 {
                font-size: 26px;
            }

            .filter-btn {
                padding: 8px 14px;
                font-size: 11px;
            }

            .category-title {
                font-size: 20px;
            }

            .mobile-menu {
                width: 250px;
            }

            .mobile-menu-item {
                padding: 10px 12px;
                font-size: 14px;
            }

            .category-products .card {
                width: calc(50vw - 25px);
                min-width: 140px;
                padding: 12px;
            }

            .category-products .card img {
                height: 120px;
            }

            .card h3 {
                font-size: 14px;
            }

            .product-weight {
                font-size: 10px;
                padding: 3px 8px;
            }

            .price {
                font-size: 14px;
            }

            .qty-btn {
                padding: 3px;
                font-size: 11px;
            }

            .qty-value {
                font-size: 12px;
                min-width: 25px;
            }
        }

        .max-warning {
            color: var(--warning);
            font-size: 12px;
            margin-top: 5px;
            display: none;
        }

        .no-results {
            text-align: center;
            padding: 40px;
            color: var(--text-muted);
            font-size: 16px;
            grid-column: 1 / -1;
        }

        .highlight {
            background-color: var(--primary);
            color: #0f0b07;
            padding: 2px 4px;
            border-radius: 4px;
            font-weight: 600;
        }

        .scroll-to-top {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: var(--primary);
            color: #0f0b07;
            width: 45px;
            height: 45px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            opacity: 0;
            transition: 0.3s;
            border: none;
            font-size: 18px;
            z-index: 999;
        }

        .scroll-to-top.show {
            opacity: 1;
        }

        .scroll-to-top:hover {
            transform: scale(1.1);
            background: var(--primary-dark);
        }

        .login-required {
            text-align: center;
            padding: 20px;
            background: rgba(245, 179, 66, 0.1);
            border-radius: 10px;
            margin: 20px 0;
        }

        .login-required button {
            background: var(--primary);
            color: #0f0b07;
            border: none;
            padding: 10px 20px;
            border-radius: 6px;
            margin-top: 10px;
            cursor: pointer;
            font-weight: 600;
        }

        .tab-buttons {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
        }

        .tab-button {
            flex: 1;
            padding: 10px;
            background: rgba(255, 255, 255, 0.03);
            border: 1px solid rgba(245, 179, 66, 0.2);
            border-radius: 6px;
            color: var(--text-light);
            cursor: pointer;
            font-weight: 600;
            font-size: 14px;
        }

        .tab-button.active {
            background: var(--primary);
            color: #0f0b07;
            border-color: var(--primary);
        }

        .form-tab {
            display: none;
        }

        .form-tab.active {
            display: block;
        }

        /* Overlay for closing profile dropdown */
        #profileOverlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 1000;
        }

        #profileOverlay.active {
            display: block;
        }

        .admin-info-box {
            background: rgba(245, 179, 66, 0.07);
            border: 1px solid rgba(245, 179, 66, 0.2);
            border-radius: 8px;
            padding: 12px 15px;
            margin-bottom: 16px;
            font-size: 13px;
            color: var(--text-muted);
        }

        .admin-info-box span {
            color: var(--primary);
            font-weight: 700;
        }

        /* Barcha rasmlarni almashtirish tugmasi stili */
        .mass-image-btn {
            background: linear-gradient(135deg, #4CAF50, #45a049);
            color: white;
            border: none;
            padding: 12px 20px;
            border-radius: 8px;
            font-weight: 700;
            cursor: pointer;
            font-size: 14px;
            transition: 0.3s;
            display: flex;
            align-items: center;
            gap: 8px;
            justify-content: center;
            margin-bottom: 20px;
            width: 100%;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .mass-image-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(76, 175, 80, 0.3);
        }

        .mass-image-btn i {
            font-size: 16px;
        }

        /* Anti-view source styles */
        .protected-content {
            user-select: none;
            -webkit-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
        }

        /* Yakka tartibda rasm almashtirish tugmasi */
        .single-image-btn {
            background: linear-gradient(135deg, #2196F3, #1976D2);
            color: white;
            border: none;
            padding: 8px 10px;
            border-radius: 6px;
            font-weight: 600;
            cursor: pointer;
            font-size: 12px;
            transition: 0.3s;
            display: inline-flex;
            align-items: center;
            gap: 5px;
            margin-top: 5px;
            width: 100%;
            justify-content: center;
        }

        .single-image-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 10px rgba(33, 150, 243, 0.3);
        }

        /* Kod orqali almashtirish paneli */
        .code-panel {
            background: rgba(0, 0, 0, 0.3);
            border: 1px solid var(--primary);
            border-radius: 10px;
            padding: 15px;
            margin-bottom: 20px;
        }

        .code-panel h4 {
            color: var(--primary);
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 16px;
        }

        .code-input {
            width: 100%;
            padding: 10px;
            background: #2c1e14;
            border: 1px solid rgba(245, 179, 66, 0.2);
            border-radius: 6px;
            color: white;
            margin-bottom: 10px;
            font-size: 13px;
        }

        .code-btn {
            background: var(--primary);
            color: #0f0b07;
            border: none;
            padding: 8px 12px;
            border-radius: 6px;
            font-weight: 600;
            cursor: pointer;
            margin-right: 8px;
            font-size: 13px;
        }

        .code-btn:hover {
            background: var(--primary-dark);
        }
    </style>
</head>

<body class="protected-content">

    <!-- Profile overlay - yoniga bosish uchun -->
    <div id="profileOverlay" onclick="closeProfileDropdown()"></div>

    <!-- Mobile Menu Overlay -->
    <div class="mobile-menu-overlay" id="mobileMenuOverlay" onclick="closeMobileMenu()"></div>

    <!-- Mobile Menu -->
    <div class="mobile-menu" id="mobileMenu">
        <div class="mobile-menu-item" onclick="toggleAbout(true); closeMobileMenu();">
            <i class="fas fa-info-circle"></i>
            <span>Biz haqimizda</span>
        </div>
        <div class="mobile-menu-item" onclick="toggleAdminPanel(); closeMobileMenu();">
            <i class="fas fa-crown"></i>
            <span>Admin panel</span>
        </div>
        <div class="mobile-menu-item" onclick="toggleProfileDropdown(); closeMobileMenu();">
            <i class="fas fa-user"></i>
            <span>Profil</span>
        </div>
        <div class="mobile-menu-item" onclick="changeLang('uz'); closeMobileMenu();">
            <i class="fas fa-language"></i>
            <span>O'zbek tili</span>
        </div>
        <div class="mobile-menu-item" onclick="changeLang('ru'); closeMobileMenu();">
            <i class="fas fa-language"></i>
            <span>Ð ÑƒÑÑÐºÐ¸Ð¹ ÑÐ·Ñ‹Ðº</span>
        </div>
        <div class="mobile-menu-item" onclick="changeLang('en'); closeMobileMenu();">
            <i class="fas fa-language"></i>
            <span>English</span>
        </div>
    </div>

    <nav>
        <!-- LOGOTIP - CHAP TOMONDA -->
        <div class="logo-container">
            <div class="logo-image">ðŸ½ï¸</div>
            <div class="logo-text">
                <div class="logo-main">Fazo <span>foods</span></div>
                <div class="logo-sub">180+ TAOMLAR</div>
            </div>
        </div>

        <div class="nav-right">
            <div class="search-container">
                <input type="text" class="search-input" id="searchInput" placeholder="Qidirish..."
                    onkeyup="searchProducts()">
                <i class="fas fa-search search-icon" onclick="searchProducts()"></i>
                <i class="fas fa-times clear-search" id="clearSearch" onclick="clearSearch()"></i>
            </div>
            <select onchange="changeLang(this.value)" class="nav-btn">
                <option value="uz">ðŸ‡ºðŸ‡¿ O'zbek</option>
                <option value="ru">ðŸ‡·ðŸ‡º Ð ÑƒÑÑÐºÐ¸Ð¹</option>
                <option value="en">ðŸ‡¬ðŸ‡§ English</option>
            </select>
            <div class="nav-btn" onclick="toggleAbout(true)">ðŸ“œ <span id="navAbout">Biz haqimizda</span></div>
            <div class="nav-btn" onclick="toggleAdminPanel()">âšœï¸ <span id="navAdmin">Admin</span></div>
            <div class="profile-container">
                <div class="profile-icon" onclick="toggleProfileDropdown()" id="profileIcon">
                    <i class="fas fa-user"></i>
                </div>
                <div class="profile-dropdown" id="profileDropdown"></div>
            </div>
            <div class="cart-icon-btn" onclick="togglePanel('cartPanel')">
                ðŸ›’ <span id="cartCount">0</span>
            </div>

            <!-- HAMBURGER MENU -->
            <div class="hamburger-menu" id="hamburgerMenu" onclick="toggleMobileMenu()">
                <span></span>
                <span></span>
                <span></span>
            </div>
        </div>
    </nav>

    <!-- Admin Panel -->
    <div id="adminPanel" class="admin-panel">
        <div class="admin-header">
            <div class="admin-title"><span>âšœï¸</span> Admin Panel</div>
            <div class="admin-close" onclick="toggleAdminPanel()">âœ•</div>
        </div>
        <div id="adminLogin" class="admin-login-box">
            <h2>Admin paroli:</h2>
            <input type="password" id="adminPassword" placeholder="Parolni kiriting"
                onkeypress="handleAdminKeyPress(event)">
            <button onclick="checkAdminPassword()">OK</button>
        </div>
        <div id="adminContent" style="display: none;">
            <div class="admin-tabs">
                <div class="admin-tab active" onclick="switchAdminTab('dashboard', this)">ðŸ“Š Dashboard</div>
                <div class="admin-tab" onclick="switchAdminTab('users', this)">ðŸ‘¥ Foydalanuvchilar</div>
                <div class="admin-tab" onclick="switchAdminTab('orders', this)">ðŸ“¦ Buyurtmalar</div>
                <div class="admin-tab" onclick="switchAdminTab('products', this)">ðŸ½ï¸ Mahsulotlar</div>
                <div class="admin-tab" onclick="switchAdminTab('addProduct', this)">âž• Yangi mahsulot</div>
                <div class="admin-tab" onclick="logoutAdmin()">ðŸšª Chiqish</div>
            </div>

            <!-- DASHBOARD -->
            <div id="dashboard" class="admin-content active">
                <h3>Statistika</h3>
                <div
                    style="display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 15px; margin: 20px 0;">
                    <div
                        style="background: rgba(245,179,66,0.1); padding: 20px; border-radius: 10px; text-align: center;">
                        <div style="font-size: 30px; color: var(--primary);" id="totalOrdersStat">0</div>
                        <div style="font-size: 14px;">Jami buyurtmalar</div>
                    </div>
                    <div
                        style="background: rgba(245,179,66,0.1); padding: 20px; border-radius: 10px; text-align: center;">
                        <div style="font-size: 30px; color: var(--primary);" id="totalRevenueStat">0</div>
                        <div style="font-size: 14px;">Jami daromad</div>
                    </div>
                    <div
                        style="background: rgba(245,179,66,0.1); padding: 20px; border-radius: 10px; text-align: center;">
                        <div style="font-size: 30px; color: var(--primary);" id="totalProductsStat">0</div>
                        <div style="font-size: 14px;">Mahsulotlar</div>
                    </div>
                </div>
                <h3>Oxirgi buyurtmalar</h3>
                <div id="recentOrdersList"></div>
            </div>

            <!-- USERS -->
            <div id="users" class="admin-content">
                <h3 class="admin-section-title">ðŸ‘¥ Foydalanuvchilar boshqaruvi</h3>

                <!-- Yangi foydalanuvchi qo'shish formasi -->
                <div class="add-user-form">
                    <h4>âž• Yangi foydalanuvchi qo'shish</h4>
                    <div class="add-user-grid">
                        <input type="text" id="newUserName" placeholder="Ism *">
                        <input type="text" id="newUserSurname" placeholder="Familiya *">
                        <input type="text" id="newUserPhone" value="+998 " oninput="formatPhone(this)"
                            placeholder="+998 90 123 45 67 *">
                        <input type="password" id="newUserPassword" placeholder="Parol (min 4 ta) *">
                        <input type="number" id="newUserMaxOrder" placeholder="Max buyurtma" value="100" min="1"
                            max="1000">
                        <div style="display:flex; align-items:center; gap:8px;">
                            <label style="font-size:13px; color:var(--text-muted);">Admin huquqi:</label>
                            <input type="checkbox" id="newUserIsAdmin"
                                style="width:auto; accent-color: var(--primary);">
                        </div>
                    </div>
                    <button class="add-user-btn" onclick="addNewUser()">âž• Qo'shish</button>
                </div>

                <div class="admin-info-box">
                    Admin huquqi berilganlar: <span id="adminCountDisplay">0</span> / 5 ta (maksimal 5 ta admin bo'lishi
                    mumkin)
                </div>

                <table class="users-table">
                    <thead>
                        <tr>
                            <th>Ism</th>
                            <th>Familiya</th>
                            <th>Telefon</th>
                            <th>Holat</th>
                            <th>Max. buyurtma</th>
                            <th>Amallar</th>
                        </tr>
                    </thead>
                    <tbody id="usersList"></tbody>
                </table>
            </div>

            <!-- ORDERS -->
            <div id="orders" class="admin-content">
                <h3>Barcha buyurtmalar</h3>
                <table class="orders-table">
                    <thead>
                        <tr>
                            <th>Vaqt</th>
                            <th>Mijoz</th>
                            <th>Telefon</th>
                            <th>Manzil</th>
                            <th>Buyurtma</th>
                            <th>Jami</th>
                            <th>Eslatma</th>
                            <th>Amallar</th>
                        </tr>
                    </thead>
                    <tbody id="ordersList"></tbody>
                </table>
            </div>

            <!-- PRODUCTS - BARCHA RASMLARNI ALMASHTIRISH TUGMASI -->
            <div id="products" class="admin-content">
                <h3 class="admin-section-title">ðŸ½ï¸ Mahsulotlarni tahrirlash</h3>

                <!-- KOD ORQALI ALMASHTIRISH PANELI (YANGI) -->
                <div class="code-panel">
                    <h4><i class="fas fa-code"></i> Kod orqali rasm almashtirish</h4>
                    <input type="text" id="codeImageUrl" class="code-input"
                        placeholder="Yangi rasm URL manzilini kiriting"
                        value="https://i.pinimg.com/736x/57/8a/10/578a1037f99f4989c434c8a20d22d37b.jpg">
                    <button class="code-btn" onclick="changeAllImagesViaCode()"><i class="fas fa-images"></i> Barcha
                        rasmlarni almashtirish</button>
                    <button class="code-btn" style="background: #2196F3;" onclick="showCurrentImageUrl()"><i
                            class="fas fa-eye"></i> Joriy rasm URL</button>
                </div>

                <!-- ADMIN PANEL TUGMASI -->
                <button class="mass-image-btn" onclick="changeAllProductImages()">
                    <i class="fas fa-images"></i> Admin panel orqali barcha rasmlarni almashtirish
                </button>

                <div class="admin-search-container">
                    <input type="text" class="admin-search-input" id="adminSearchInput"
                        placeholder="Mahsulot qidirish..." onkeyup="filterAdminProducts()">
                    <i class="fas fa-search admin-search-icon"></i>
                    <i class="fas fa-times admin-clear-search" id="adminClearSearch" onclick="clearAdminSearch()"></i>
                    <div class="admin-search-stats" id="adminSearchStats" style="display: none;">
                        <span id="adminSearchCount">0</span> ta mahsulot topildi
                    </div>
                </div>
                <div class="products-grid" id="productsGrid"></div>
            </div>

            <!-- ADD PRODUCT -->
            <div id="addProduct" class="admin-content">
                <h3>Yangi mahsulot qo'shish</h3>
                <div style="background: rgba(255,255,255,0.03); padding: 30px; border-radius: 12px; margin-top: 20px;">
                    <div style="margin-bottom: 15px;">
                        <label>Nomi:</label>
                        <input type="text" id="newProductName"
                            style="width: 100%; padding: 12px; background: #2c1e14; border: 1px solid rgba(245,179,66,0.2); border-radius: 6px; color: white; margin-top:5px;">
                    </div>
                    <div style="margin-bottom: 15px;">
                        <label>Kategoriya:</label>
                        <select id="newProductCat"
                            style="width: 100%; padding: 12px; background: #2c1e14; border: 1px solid rgba(245,179,66,0.2); border-radius: 6px; color: white; margin-top:5px;">
                            <option value="milliy">O'zbek</option>
                            <option value="osiyo">Osiyo</option>
                            <option value="salat">Salat</option>
                            <option value="kabob">Kabob</option>
                            <option value="gazak">Gazak</option>
                            <option value="ichimlik">Ichimlik</option>
                            <option value="shirinlik">Shirinlik</option>
                        </select>
                    </div>
                    <div style="margin-bottom: 15px;">
                        <label>Narxi (so'm):</label>
                        <input type="number" id="newProductPrice"
                            style="width: 100%; padding: 12px; background: #2c1e14; border: 1px solid rgba(245,179,66,0.2); border-radius: 6px; color: white; margin-top:5px;">
                    </div>
                    <div style="margin-bottom: 15px;">
                        <label>Miqdori (gramm/ml):</label>
                        <input type="text" id="newProductWeight" value="300g"
                            style="width: 100%; padding: 12px; background: #2c1e14; border: 1px solid rgba(245,179,66,0.2); border-radius: 6px; color: white; margin-top:5px;">
                    </div>
                    <div style="margin-bottom: 15px;">
                        <label>Rasm URL:</label>
                        <input type="text" id="newProductImage"
                            value="https://i.pinimg.com/736x/57/8a/10/578a1037f99f4989c434c8a20d22d37b.jpg"
                            style="width: 100%; padding: 12px; background: #2c1e14; border: 1px solid rgba(245,179,66,0.2); border-radius: 6px; color: white; margin-top:5px;">
                    </div>
                    <button class="save-btn" onclick="addNewProduct()">Mahsulot qo'shish</button>
                </div>
            </div>
        </div>
    </div>

    <div class="scroll-to-top" id="scrollToTop" onclick="scrollToTop()">
        <i class="fas fa-arrow-up"></i>
    </div>

    <section class="hero">
        <div class="hero-left">
            <div class="top-badge"><span class="float-emoji">â­</span> <span id="badgeText">180+ xil taomlar</span></div>
            <h1 id="heroTitle">Eng katta <br><span>taomlar tanlovi</span></h1>
            <p id="heroDesc">180 dan ortiq turli xil milliy va xorijiy taomlar. Eng sifatli mahsulotlar, eng tez
                yetkazib berish.</p>
            <button class="cta-btn" id="ctaBtn"
                onclick="document.getElementById('menu').scrollIntoView({behavior:'smooth'})">MENYUNI KO'RISH</button>
            <div class="stats-box">
                <div class="stat-item">
                    <h2>180+</h2>
                    <p id="stat1">Taomlar</p>
                </div>
                <div class="stat-item">
                    <h2>3500+</h2>
                    <p id="stat2">Mijozlar</p>
                </div>
                <div class="stat-item">
                    <h2>4.9</h2>
                    <p id="stat3">Reyting</p>
                </div>
            </div>
        </div>
        <div class="hero-right">
            <img src="https://i.pinimg.com/736x/57/8a/10/578a1037f99f4989c434c8a20d22d37b.jpg" class="circle-img"
                alt="Professional Salad">
        </div>
    </section>

    <section class="menu-section" id="menu">
        <div class="filter-bar" id="filterBar"></div>
        <div id="searchStats" class="search-stats" style="display: none;">
            <span id="searchResultCount">0</span> <span id="searchResultText">ta mahsulot topildi</span>
        </div>
        <div id="loginRequiredMessage" class="login-required" style="display: none;">
            <p>ðŸ” Buyurtma berish uchun akkauntga kiring</p>
            <button onclick="toggleProfileDropdown()">Akkauntga kirish</button>
        </div>
        <div class="menu-grid" id="menuGrid"></div>
    </section>

    <!-- Cart Panel -->
    <div id="cartPanel" class="side-panel">
        <div style="text-align:right; cursor:pointer; font-size:22px; color:var(--primary); margin-bottom:10px;"
            onclick="togglePanel('cartPanel')">âœ•</div>
        <div class="step-indicator">
            <div class="step active" id="step1">1. SAVATCHA</div>
            <div class="step" id="step2">2. RASMIYLASHTIRISH</div>
        </div>
        <div id="cartView">
            <h2 id="cartTitle" style="font-size:22px; margin-bottom:15px;">Savatcha</h2>
            <div id="cartList" style="flex:1; overflow-y:auto; margin:15px 0;"></div>
            <p style="font-size:18px;"><span id="totalLabel">JAMI:</span> <b id="totalPrice">0</b> <span
                    class="currency">so'm</span></p>
            <div id="maxWarning" class="max-warning">âš ï¸ Maksimal mahsulot chegarasiga yetdingiz!</div>
            <button class="cta-btn" style="width:100%; padding:12px; font-size:14px;" onclick="showCheckout()"
                id="checkoutBtn">BUYURTMA BERISH</button>
        </div>
        <div id="checkoutView" style="display: none;">
            <button class="back-btn" style="width:100%;" onclick="showCart()">â† Savatchaga qaytish</button>
            <h2 style="font-size:22px; margin:15px 0;">Rasmiylashtirish</h2>
            <div class="order-summary" id="checkoutSummary"></div>
            <div class="checkout-form">
                <div class="form-group">
                    <label>Ismingiz *</label>
                    <input type="text" id="nameInput" placeholder="Ismingizni kiriting" readonly>
                    <div class="error-message" id="nameError">Iltimos, ismingizni kiriting</div>
                </div>
                <div class="form-group">
                    <label>Familiya *</label>
                    <input type="text" id="surnameInput" placeholder="Familiyangizni kiriting" readonly>
                    <div class="error-message" id="surnameError">Iltimos, familiyangizni kiriting</div>
                </div>
                <div class="form-group">
                    <label>Telefon raqam *</label>
                    <input type="tel" id="phoneInput" placeholder="+998 90 123 45 67" readonly>
                    <div class="error-message" id="phoneError">Telefon raqam noto'g'ri formatda</div>
                </div>
                <div class="form-group">
                    <label>Manzil *</label>
                    <textarea id="addressInput" placeholder="To'liq manzilingizni kiriting" rows="2"></textarea>
                    <div class="error-message" id="addressError">Iltimos, manzilingizni kiriting</div>
                </div>
                <div class="form-group">
                    <label>Eslatma (ixtiyoriy)</label>
                    <textarea id="noteInput" placeholder="Buyurtmangiz haqida qo'shimcha ma'lumot" rows="2"></textarea>
                </div>
                <div class="form-group">
                    <label>Promokod</label>
                    <input type="text" id="promoInput" placeholder="Promokod kiriting">
                    <div id="promoMessage" style="color: var(--text-muted); font-size: 12px;"></div>
                </div>
            </div>
            <button class="cta-btn" style="width:100%; padding:12px; font-size:14px; margin-top:15px;"
                onclick="submitOrder()" id="submitOrderBtn">BUYURTMANI YAKUNLASH</button>
        </div>
    </div>

    <!-- About Modal -->
    <div id="aboutModal">
        <div class="about-box">
            <h2 id="aboutTitle" style="font-size:26px;">Biz haqimizda</h2>
            <div style="text-align: left; margin: 25px 0;">
                <p style="font-size: 24px; color: var(--primary);" id="aboutText1">Fazo foods â€” 2025</p>
                <div style="margin: 25px 0;">
                    <p>ðŸ“ <span id="aboutLocation">Namangan, O'zbekiston</span></p>
                    <p>ðŸ“ž <span id="aboutPhone">+998 90 260 88 88</span></p>
                    <p>ðŸ“± <span id="aboutTG">@ItsUzb</span></p>
                </div>
                <p>âœï¸ <span id="aboutName">Odilov Abdulquddus (13 yosh)</span></p>
            </div>
            <button class="cta-btn" style="width:100%; padding:12px; font-size:14px;"
                onclick="toggleAbout(false)">YOPISH</button>
        </div>
    </div>

    <footer class="footer">
        <div class="footer-content">
            <div class="footer-text">Fazo Family Restaurant Â© 2025</div>
            <div class="footer-links">
                <a href="https://t.me/ItsUzb" target="_blank" class="footer-link">ðŸ“± Telegram</a>
                <a href="https://instagram.com" target="_blank" class="footer-link">ðŸ“· Instagram</a>
            </div>
            <div class="footer-copyright">Barcha huquqlar himoyalangan Â© 2025</div>
        </div>
    </footer>

    <script>
        // HAMBURGER MENU FUNCTIONS
        function toggleMobileMenu() {
            const menu = document.getElementById('mobileMenu');
            const overlay = document.getElementById('mobileMenuOverlay');
            const hamburger = document.getElementById('hamburgerMenu');

            menu.classList.toggle('active');
            overlay.classList.toggle('active');
            hamburger.classList.toggle('active');
        }

        function closeMobileMenu() {
            const menu = document.getElementById('mobileMenu');
            const overlay = document.getElementById('mobileMenuOverlay');
            const hamburger = document.getElementById('hamburgerMenu');

            menu.classList.remove('active');
            overlay.classList.remove('active');
            hamburger.classList.remove('active');
        }

        const langData = {
            uz: {
                navAbout: "Biz haqimizda",
                navAdmin: "Admin",
                badgeText: "180+ xil taomlar",
                heroTitle: "Eng katta <br><span>taomlar tanlovi</span>",
                heroDesc: "180 dan ortiq turli xil milliy va xorijiy taomlar. Eng sifatli mahsulotlar, eng tez yetkazib berish.",
                ctaBtn: "MENYUNI KO'RISH",
                stat1: "Taomlar",
                stat2: "Mijozlar",
                stat3: "Reyting",
                all: "BARCHASI",
                milliy: "O'ZBEK",
                osiyo: "OSIYO",
                salat: "SALATLAR",
                kabob: "KABOBLAR",
                gazak: "GAZAKLAR",
                ichimlik: "ICHIMLIKLAR",
                shirinlik: "SHIRINLIKLAR",
                cartTitle: "Savatcha",
                totalLabel: "JAMI:",
                currency: "so'm",
                aboutTitle: "Biz haqimizda",
                aboutClose: "YOPISH",
                aboutText1: "Fazo foods â€” 2025",
                aboutLocation: "Namangan, O'zbekiston",
                aboutPhone: "+998 90 260 88 88",
                aboutTG: "@ItsUzb",
                aboutName: "Odilov Abdulquddus (13 yosh)",
                searchPlaceholder: "Qidiruv...",
                searchResults: "ta mahsulot topildi",
                noResults: "Hech narsa topilmadi",
                categories: {
                    milliy: "O'ZBEK TAOMLARI",
                    kabob: "KABOBLAR",
                    salat: "SALATLAR",
                    gazak: "GAZAKLAR",
                    ichimlik: "ICHIMLIKLAR",
                    shirinlik: "SHIRINLIKLAR"
                }
            },
            ru: {
                navAbout: "Ðž Ð½Ð°Ñ",
                navAdmin: "ÐÐ´Ð¼Ð¸Ð½",
                badgeText: "180+ Ð±Ð»ÑŽÐ´",
                heroTitle: "Ð‘Ð¾Ð»ÑŒÑˆÐ¾Ð¹ <br><span>Ð²Ñ‹Ð±Ð¾Ñ€ Ð±Ð»ÑŽÐ´</span>",
                heroDesc: "Ð‘Ð¾Ð»ÐµÐµ 180 Ñ€Ð°Ð·Ð»Ð¸Ñ‡Ð½Ñ‹Ñ… Ð±Ð»ÑŽÐ´. ÐšÐ°Ñ‡ÐµÑÑ‚Ð²ÐµÐ½Ð½Ñ‹Ðµ Ð¿Ñ€Ð¾Ð´ÑƒÐºÑ‚Ñ‹, Ð±Ñ‹ÑÑ‚Ñ€Ð°Ñ Ð´Ð¾ÑÑ‚Ð°Ð²ÐºÐ°.",
                ctaBtn: "ÐœÐ•ÐÐ®",
                stat1: "Ð‘Ð»ÑŽÐ´Ð°",
                stat2: "ÐšÐ»Ð¸ÐµÐ½Ñ‚Ñ‹",
                stat3: "Ð ÐµÐ¹Ñ‚Ð¸Ð½Ð³",
                all: "Ð’Ð¡Ð•",
                milliy: "Ð£Ð—Ð‘Ð•ÐšÐ¡ÐšÐ˜Ð•",
                osiyo: "ÐÐ—Ð˜ÐÐ¢Ð¡ÐšÐ˜Ð•",
                salat: "Ð¡ÐÐ›ÐÐ¢Ð«",
                kabob: "Ð¨ÐÐ¨Ð›Ð«ÐšÐ˜",
                gazak: "Ð—ÐÐšÐ£Ð¡ÐšÐ˜",
                ichimlik: "ÐÐÐŸÐ˜Ð¢ÐšÐ˜",
                shirinlik: "Ð”Ð•Ð¡Ð•Ð Ð¢Ð«",
                cartTitle: "ÐšÐ¾Ñ€Ð·Ð¸Ð½Ð°",
                totalLabel: "Ð˜Ð¢ÐžÐ“Ðž:",
                currency: "ÑÑƒÐ¼",
                aboutTitle: "Ðž Ð½Ð°Ñ",
                aboutClose: "Ð—ÐÐšÐ Ð«Ð¢Ð¬",
                aboutText1: "Fazo foods â€” 2025",
                aboutLocation: "ÐÐ°Ð¼Ð°Ð½Ð³Ð°Ð½, Ð£Ð·Ð±ÐµÐºÐ¸ÑÑ‚Ð°Ð½",
                aboutPhone: "+998 90 260 88 88",
                aboutTG: "@ItsUzb",
                aboutName: "ÐžÐ´Ð¸Ð»Ð¾Ð² ÐÐ±Ð´ÑƒÐ»ÐºÑƒÐ´Ð´ÑƒÑ (13 Ð»ÐµÑ‚)",
                searchPlaceholder: "ÐŸÐ¾Ð¸ÑÐº...",
                searchResults: "Ñ‚Ð¾Ð²Ð°Ñ€Ð¾Ð² Ð½Ð°Ð¹Ð´ÐµÐ½Ð¾",
                noResults: "ÐÐ¸Ñ‡ÐµÐ³Ð¾ Ð½Ðµ Ð½Ð°Ð¹Ð´ÐµÐ½Ð¾",
                categories: {
                    milliy: "Ð£Ð—Ð‘Ð•ÐšÐ¡ÐšÐ˜Ð• Ð‘Ð›Ð®Ð”Ð",
                    kabob: "Ð¨ÐÐ¨Ð›Ð«ÐšÐ˜",
                    salat: "Ð¡ÐÐ›ÐÐ¢Ð«",
                    gazak: "Ð—ÐÐšÐ£Ð¡ÐšÐ˜",
                    ichimlik: "ÐÐÐŸÐ˜Ð¢ÐšÐ˜",
                    shirinlik: "Ð”Ð•Ð¡Ð•Ð Ð¢Ð«"
                }
            },
            en: {
                navAbout: "About Us",
                navAdmin: "Admin",
                badgeText: "180+ dishes",
                heroTitle: "Largest <br><span>food selection</span>",
                heroDesc: "More than 180 different dishes. Quality products, fast delivery.",
                ctaBtn: "VIEW MENU",
                stat1: "Dishes",
                stat2: "Customers",
                stat3: "Rating",
                all: "ALL",
                milliy: "UZBEK",
                osiyo: "ASIAN",
                salat: "SALADS",
                kabob: "KABOBS",
                gazak: "SNACKS",
                ichimlik: "DRINKS",
                shirinlik: "DESSERTS",
                cartTitle: "Cart",
                totalLabel: "TOTAL:",
                currency: "sum",
                aboutTitle: "About Us",
                aboutClose: "CLOSE",
                aboutText1: "Fazo foods â€” 2025",
                aboutLocation: "Namangan, Uzbekistan",
                aboutPhone: "+998 90 260 88 88",
                aboutTG: "@ItsUzb",
                aboutName: "Odilov Abdulquddus (13 years old)",
                searchPlaceholder: "Search...",
                searchResults: "products found",
                noResults: "No results found",
                categories: {
                    milliy: "UZBEK DISHES",
                    kabob: "KABOBS",
                    salat: "SALADS",
                    gazak: "SNACKS",
                    ichimlik: "DRINKS",
                    shirinlik: "DESSERTS"
                }
            }
        };

        // MAHSULOTLAR
        let products = [];

        // LOCALSTORAGE DAN MAHSULOTLARNI YUKLASH
        const savedProducts = localStorage.getItem('products');

        if (savedProducts) {
            products = JSON.parse(savedProducts);
        } else {
            // ============================================
            // O'ZBEK MILLIY TAOMLARI (40 ta) - HAR BIRIGA ALOHIDA RASM
            // ============================================
            const uzbekFoods = [
                { name: "Toshkent Palovi", img: "https://images.unsplash.com/photo-1585937421612-70a008356fbe?w=400" },
                { name: "Samarqand Palovi", img: "https://images.unsplash.com/photo-1601050690597-df0568f70950?w=400" },
                { name: "Buxoro Palovi", img: "https://images.unsplash.com/photo-1585032226651-759b368d7246?w=400" },
                { name: "Xorazm Palovi", img: "https://images.unsplash.com/photo-1516714435131-44d6b64dc6a2?w=400" },
                { name: "Farg'ona Palovi", img: "https://images.unsplash.com/photo-1599043513900-ed6c01d2f2b4?w=400" },
                { name: "Andijon Palovi", img: "https://images.unsplash.com/photo-1603133872878-684f208fb84b?w=400" },
                { name: "Namangan Palovi", img: "https://images.unsplash.com/photo-1563379926898-3415665e4b88?w=400" },
                { name: "Qashqadaryo Palovi", img: "https://images.unsplash.com/photo-1541518763669-27fef04b14ea?w=400" },
                { name: "Surxondaryo Palovi", img: "https://images.unsplash.com/photo-1604908176997-125f25c800be?w=400" },
                { name: "Jizzax Palovi", img: "https://images.unsplash.com/photo-1603202662740-3cd8501e1f5b?w=400" },
                { name: "Tandir Somsa", img: "https://images.unsplash.com/photo-1601050690597-df0568f70950?w=400" },
                { name: "Qozon Somsa", img: "https://images.unsplash.com/photo-1626082896492-7660c6c3f4f4?w=400" },
                { name: "Manti", img: "https://images.unsplash.com/photo-1626082896492-7660c6c3f4f4?w=400" },
                { name: "Chuchvara", img: "https://images.unsplash.com/photo-1611270232960-9d1c6d31bfdc?w=400" },
                { name: "Sho'rva", img: "https://images.unsplash.com/photo-1604152135912-04a022e236d6?w=400" },
                { name: "Lag'mon", img: "https://images.unsplash.com/photo-1617093727343-374698b1b08d?w=400" },
                { name: "Qovurma Lag'mon", img: "https://images.unsplash.com/photo-1626200415010-13e5e4b1e0b6?w=400" },
                { name: "Norin", img: "https://images.unsplash.com/photo-1626200415010-13e5e4b1e0b6?w=400" },
                { name: "Mastava", img: "https://images.unsplash.com/photo-1626200415010-13e5e4b1e0b6?w=400" },
                { name: "Shovla", img: "https://images.unsplash.com/photo-1585032226651-759b368d7246?w=400" },
                { name: "Dimlama", img: "https://images.unsplash.com/photo-1585032226651-759b368d7246?w=400" },
                { name: "Qozon Kabob", img: "https://images.unsplash.com/photo-1603360946369-5c9c7c41b3a7?w=400" },
                { name: "Kabob", img: "https://images.unsplash.com/photo-1603360946369-5c9c7c41b3a7?w=400" },
                { name: "Jiz-biz", img: "https://images.unsplash.com/photo-1603360946369-5c9c7c41b3a7?w=400" },
                { name: "Xonim", img: "https://images.unsplash.com/photo-1626082896492-7660c6c3f4f4?w=400" },
                { name: "Osh", img: "https://images.unsplash.com/photo-1585937421612-70a008356fbe?w=400" },
                { name: "Hasip", img: "https://images.unsplash.com/photo-1626200415010-13e5e4b1e0b6?w=400" },
                { name: "Qazi", img: "https://images.unsplash.com/photo-1626200415010-13e5e4b1e0b6?w=400" },
                { name: "Qurtob", img: "https://images.unsplash.com/photo-1626200415010-13e5e4b1e0b6?w=400" },
                { name: "Sumalak", img: "https://images.unsplash.com/photo-1626200415010-13e5e4b1e0b6?w=400" },
                { name: "Halim", img: "https://images.unsplash.com/photo-1626200415010-13e5e4b1e0b6?w=400" },
                { name: "Ugra", img: "https://images.unsplash.com/photo-1626200415010-13e5e4b1e0b6?w=400" },
                { name: "Piyoz", img: "https://images.unsplash.com/photo-1626200415010-13e5e4b1e0b6?w=400" },
                { name: "Samsa", img: "https://images.unsplash.com/photo-1601050690597-df0568f70950?w=400" },
                { name: "Beshbarmak", img: "https://images.unsplash.com/photo-1626200415010-13e5e4b1e0b6?w=400" },
                { name: "Kesma", img: "https://images.unsplash.com/photo-1626200415010-13e5e4b1e0b6?w=400" },
                { name: "Nisholda", img: "https://images.unsplash.com/photo-1626200415010-13e5e4b1e0b6?w=400" },
                { name: "Holvaytar", img: "https://images.unsplash.com/photo-1626200415010-13e5e4b1e0b6?w=400" },
                { name: "Tuxum Barak", img: "https://images.unsplash.com/photo-1626082896492-7660c6c3f4f4?w=400" },
                { name: "Kuk Somsa", img: "https://images.unsplash.com/photo-1601050690597-df0568f70950?w=400" }
            ];

            for (let i = 0; i < uzbekFoods.length; i++) {
                products.push({
                    id: `uz${i}`,
                    cat: 'milliy',
                    name: { uz: uzbekFoods[i].name, ru: uzbekFoods[i].name, en: uzbekFoods[i].name },
                    price: 18000 + (i * 1000),
                    weight: "350g",
                    img: uzbekFoods[i].img,
                    quantity: 0
                });
            }

            // ============================================
            // KABOBLAR (25 ta)
            // ============================================
            const kebabFoods = [
                { name: "Andijon Kabobi", img: "https://images.unsplash.com/photo-1603360946369-5c9c7c41b3a7?w=400" },
                { name: "Qozon Kabob", img: "https://images.unsplash.com/photo-1603360946369-5c9c7c41b3a7?w=400" },
                { name: "Jiz-biz", img: "https://images.unsplash.com/photo-1603360946369-5c9c7c41b3a7?w=400" },
                { name: "Tovuq Kabob", img: "https://images.unsplash.com/photo-1603360946369-5c9c7c41b3a7?w=400" },
                { name: "Qiyma Kabob", img: "https://images.unsplash.com/photo-1603360946369-5c9c7c41b3a7?w=400" },
                { name: "Jigar Kabob", img: "https://images.unsplash.com/photo-1603360946369-5c9c7c41b3a7?w=400" },
                { name: "Qo'y Kabob", img: "https://images.unsplash.com/photo-1603360946369-5c9c7c41b3a7?w=400" },
                { name: "Mol Kabob", img: "https://images.unsplash.com/photo-1603360946369-5c9c7c41b3a7?w=400" },
                { name: "Baliq Kabob", img: "https://images.unsplash.com/photo-1603360946369-5c9c7c41b3a7?w=400" },
                { name: "Sabzavot Kabob", img: "https://images.unsplash.com/photo-1603360946369-5c9c7c41b3a7?w=400" },
                { name: "Lula Kabob", img: "https://images.unsplash.com/photo-1603360946369-5c9c7c41b3a7?w=400" },
                { name: "Shashlik", img: "https://images.unsplash.com/photo-1603360946369-5c9c7c41b3a7?w=400" },
                { name: "Tandir Kabob", img: "https://images.unsplash.com/photo-1603360946369-5c9c7c41b3a7?w=400" },
                { name: "Mango Kabob", img: "https://images.unsplash.com/photo-1603360946369-5c9c7c41b3a7?w=400" },
                { name: "Ananas Kabob", img: "https://images.unsplash.com/photo-1603360946369-5c9c7c41b3a7?w=400" },
                { name: "Qo'zi Kabob", img: "https://images.unsplash.com/photo-1603360946369-5c9c7c41b3a7?w=400" },
                { name: "Kurka Kabob", img: "https://images.unsplash.com/photo-1603360946369-5c9c7c41b3a7?w=400" },
                { name: "Tuxum Kabob", img: "https://images.unsplash.com/photo-1603360946369-5c9c7c41b3a7?w=400" },
                { name: "Pishloq Kabob", img: "https://images.unsplash.com/photo-1603360946369-5c9c7c41b3a7?w=400" },
                { name: "Qo'ziqorin Kabob", img: "https://images.unsplash.com/photo-1603360946369-5c9c7c41b3a7?w=400" },
                { name: "Deniz Kabob", img: "https://images.unsplash.com/photo-1603360946369-5c9c7c41b3a7?w=400" },
                { name: "Adana Kabob", img: "https://images.unsplash.com/photo-1603360946369-5c9c7c41b3a7?w=400" },
                { name: "Urfa Kabob", img: "https://images.unsplash.com/photo-1603360946369-5c9c7c41b3a7?w=400" },
                { name: "Shish Kabob", img: "https://images.unsplash.com/photo-1603360946369-5c9c7c41b3a7?w=400" },
                { name: "Doner Kabob", img: "https://images.unsplash.com/photo-1603360946369-5c9c7c41b3a7?w=400" }
            ];

            for (let i = 0; i < kebabFoods.length; i++) {
                products.push({
                    id: `kab${i}`,
                    cat: 'kabob',
                    name: { uz: kebabFoods[i].name, ru: kebabFoods[i].name, en: kebabFoods[i].name },
                    price: 25000 + (i * 1500),
                    weight: "250g",
                    img: kebabFoods[i].img,
                    quantity: 0
                });
            }

            // ============================================
            // SALATLAR (25 ta)
            // ============================================
            const saladFoods = [
                { name: "Achchiq-chuchuk", img: "https://images.unsplash.com/photo-1512621776951-a57141f2eefd?w=400" },
                { name: "Sezar Salat", img: "https://images.unsplash.com/photo-1550304943-4f24f54ddde9?w=400" },
                { name: "Grechka Salat", img: "https://images.unsplash.com/photo-1512621776951-a57141f2eefd?w=400" },
                { name: "Olivier", img: "https://images.unsplash.com/photo-1512621776951-a57141f2eefd?w=400" },
                { name: "Mimoza", img: "https://images.unsplash.com/photo-1512621776951-a57141f2eefd?w=400" },
                { name: "Kapriz Salat", img: "https://images.unsplash.com/photo-1512621776951-a57141f2eefd?w=400" },
                { name: "Seld pod Shuboy", img: "https://images.unsplash.com/photo-1512621776951-a57141f2eefd?w=400" },
                { name: "Vinegret", img: "https://images.unsplash.com/photo-1512621776951-a57141f2eefd?w=400" },
                { name: "Taze Salat", img: "https://images.unsplash.com/photo-1512621776951-a57141f2eefd?w=400" },
                { name: "Cobb Salat", img: "https://images.unsplash.com/photo-1512621776951-a57141f2eefd?w=400" },
                { name: "Greek Salat", img: "https://images.unsplash.com/photo-1540189549336-e6e99c3679fe?w=400" },
                { name: "Tabouleh", img: "https://images.unsplash.com/photo-1512621776951-a57141f2eefd?w=400" },
                { name: "Fattoush", img: "https://images.unsplash.com/photo-1512621776951-a57141f2eefd?w=400" },
                { name: "Coleslaw", img: "https://images.unsplash.com/photo-1512621776951-a57141f2eefd?w=400" },
                { name: "Waldorf Salat", img: "https://images.unsplash.com/photo-1512621776951-a57141f2eefd?w=400" },
                { name: "Nisoaz Salat", img: "https://images.unsplash.com/photo-1512621776951-a57141f2eefd?w=400" },
                { name: "Panzanella", img: "https://images.unsplash.com/photo-1512621776951-a57141f2eefd?w=400" },
                { name: "Caprese", img: "https://images.unsplash.com/photo-1540189549336-e6e99c3679fe?w=400" },
                { name: "Salat Olivier", img: "https://images.unsplash.com/photo-1512621776951-a57141f2eefd?w=400" },
                { name: "Salat Vitamin", img: "https://images.unsplash.com/photo-1512621776951-a57141f2eefd?w=400" },
                { name: "Salat Bahor", img: "https://images.unsplash.com/photo-1512621776951-a57141f2eefd?w=400" },
                { name: "Salat Yoz", img: "https://images.unsplash.com/photo-1512621776951-a57141f2eefd?w=400" },
                { name: "Salat Kuz", img: "https://images.unsplash.com/photo-1512621776951-a57141f2eefd?w=400" },
                { name: "Salat Qish", img: "https://images.unsplash.com/photo-1512621776951-a57141f2eefd?w=400" },
                { name: "Salat Sho'r", img: "https://images.unsplash.com/photo-1512621776951-a57141f2eefd?w=400" }
            ];

            for (let i = 0; i < saladFoods.length; i++) {
                products.push({
                    id: `sal${i}`,
                    cat: 'salat',
                    name: { uz: saladFoods[i].name, ru: saladFoods[i].name, en: saladFoods[i].name },
                    price: 12000 + (i * 800),
                    weight: "200g",
                    img: saladFoods[i].img,
                    quantity: 0
                });
            }

            // ============================================
            // GAZAKLAR (25 ta)
            // ============================================
            const snackFoods = [
                { name: "Oq non", img: "https://images.unsplash.com/photo-1509440159596-0249088772ff?w=400" },
                { name: "Javdar non", img: "https://images.unsplash.com/photo-1509440159596-0249088772ff?w=400" },
                { name: "Kulcha", img: "https://images.unsplash.com/photo-1509440159596-0249088772ff?w=400" },
                { name: "Patir", img: "https://images.unsplash.com/photo-1509440159596-0249088772ff?w=400" },
                { name: "Lochira", img: "https://images.unsplash.com/photo-1509440159596-0249088772ff?w=400" },
                { name: "Baget", img: "https://images.unsplash.com/photo-1509440159596-0249088772ff?w=400" },
                { name: "Croissant", img: "https://images.unsplash.com/photo-1555507036-ab1f4038808a?w=400" },
                { name: "Bublik", img: "https://images.unsplash.com/photo-1509440159596-0249088772ff?w=400" },
                { name: "Simit", img: "https://images.unsplash.com/photo-1509440159596-0249088772ff?w=400" },
                { name: "Lavash", img: "https://images.unsplash.com/photo-1509440159596-0249088772ff?w=400" },
                { name: "Tortilya", img: "https://images.unsplash.com/photo-1509440159596-0249088772ff?w=400" },
                { name: "Chapati", img: "https://images.unsplash.com/photo-1509440159596-0249088772ff?w=400" },
                { name: "Naan", img: "https://images.unsplash.com/photo-1509440159596-0249088772ff?w=400" },
                { name: "Pita", img: "https://images.unsplash.com/photo-1509440159596-0249088772ff?w=400" },
                { name: "Focaccia", img: "https://images.unsplash.com/photo-1509440159596-0249088772ff?w=400" },
                { name: "Bretzel", img: "https://images.unsplash.com/photo-1509440159596-0249088772ff?w=400" },
                { name: "Bagel", img: "https://images.unsplash.com/photo-1509440159596-0249088772ff?w=400" },
                { name: "Syrnik", img: "https://images.unsplash.com/photo-1509440159596-0249088772ff?w=400" },
                { name: "Vatrushka", img: "https://images.unsplash.com/photo-1509440159596-0249088772ff?w=400" },
                { name: "Pirojok", img: "https://images.unsplash.com/photo-1509440159596-0249088772ff?w=400" },
                { name: "Samsa", img: "https://images.unsplash.com/photo-1601050690597-df0568f70950?w=400" },
                { name: "GÃ¶znÃ¢k", img: "https://images.unsplash.com/photo-1509440159596-0249088772ff?w=400" },
                { name: "Qatlama", img: "https://images.unsplash.com/photo-1509440159596-0249088772ff?w=400" },
                { name: "Yupqa", img: "https://images.unsplash.com/photo-1509440159596-0249088772ff?w=400" },
                { name: "Qalpoq", img: "https://images.unsplash.com/photo-1509440159596-0249088772ff?w=400" }
            ];

            for (let i = 0; i < snackFoods.length; i++) {
                products.push({
                    id: `gaz${i}`,
                    cat: 'gazak',
                    name: { uz: snackFoods[i].name, ru: snackFoods[i].name, en: snackFoods[i].name },
                    price: 5000 + (i * 500),
                    weight: "150g",
                    img: snackFoods[i].img,
                    quantity: 0
                });
            }

            // ============================================
            // ICHIMLIKLAR (40 ta)
            // ============================================
            const drinkFoods = [
                { name: "Coca Cola", img: "https://images.unsplash.com/photo-1554866585-cd94860890b7?w=400" },
                { name: "Pepsi", img: "https://images.unsplash.com/photo-1554866585-cd94860890b7?w=400" },
                { name: "Fanta", img: "https://images.unsplash.com/photo-1554866585-cd94860890b7?w=400" },
                { name: "Sprite", img: "https://images.unsplash.com/photo-1554866585-cd94860890b7?w=400" },
                { name: "Mirinda", img: "https://images.unsplash.com/photo-1554866585-cd94860890b7?w=400" },
                { name: "Chortoq suvi", img: "https://images.unsplash.com/photo-1554866585-cd94860890b7?w=400" },
                { name: "Ko'l suvi", img: "https://images.unsplash.com/photo-1554866585-cd94860890b7?w=400" },
                { name: "Tashkent suvi", img: "https://images.unsplash.com/photo-1554866585-cd94860890b7?w=400" },
                { name: "Nestle suvi", img: "https://images.unsplash.com/photo-1554866585-cd94860890b7?w=400" },
                { name: "Bon Aqua", img: "https://images.unsplash.com/photo-1554866585-cd94860890b7?w=400" },
                { name: "Olma sharbati", img: "https://images.unsplash.com/photo-1613478223719-2ab802602423?w=400" },
                { name: "Uzum sharbati", img: "https://images.unsplash.com/photo-1613478223719-2ab802602423?w=400" },
                { name: "Anor sharbati", img: "https://images.unsplash.com/photo-1613478223719-2ab802602423?w=400" },
                { name: "Shaftoli sharbati", img: "https://images.unsplash.com/photo-1613478223719-2ab802602423?w=400" },
                { name: "O'rik sharbati", img: "https://images.unsplash.com/photo-1613478223719-2ab802602423?w=400" },
                { name: "Behi sharbati", img: "https://images.unsplash.com/photo-1613478223719-2ab802602423?w=400" },
                { name: "Nok sharbati", img: "https://images.unsplash.com/photo-1613478223719-2ab802602423?w=400" },
                { name: "Gilos sharbati", img: "https://images.unsplash.com/photo-1613478223719-2ab802602423?w=400" },
                { name: "Qulupnay sharbati", img: "https://images.unsplash.com/photo-1613478223719-2ab802602423?w=400" },
                { name: "Malina sharbati", img: "https://images.unsplash.com/photo-1613478223719-2ab802602423?w=400" },
                { name: "Apelsin sharbati", img: "https://images.unsplash.com/photo-1613478223719-2ab802602423?w=400" },
                { name: "Limon sharbati", img: "https://images.unsplash.com/photo-1613478223719-2ab802602423?w=400" },
                { name: "Mandarin sharbati", img: "https://images.unsplash.com/photo-1613478223719-2ab802602423?w=400" },
                { name: "Ananas sharbati", img: "https://images.unsplash.com/photo-1613478223719-2ab802602423?w=400" },
                { name: "Kivi sharbati", img: "https://images.unsplash.com/photo-1613478223719-2ab802602423?w=400" },
                { name: "Banana sharbati", img: "https://images.unsplash.com/photo-1613478223719-2ab802602423?w=400" },
                { name: "Mango sharbati", img: "https://images.unsplash.com/photo-1613478223719-2ab802602423?w=400" },
                { name: "Papaya sharbati", img: "https://images.unsplash.com/photo-1613478223719-2ab802602423?w=400" },
                { name: "Guvak sharbati", img: "https://images.unsplash.com/photo-1613478223719-2ab802602423?w=400" },
                { name: "Sabzi sharbati", img: "https://images.unsplash.com/photo-1613478223719-2ab802602423?w=400" },
                { name: "Choy", img: "https://images.unsplash.com/photo-1544787219-7f47ccb76574?w=400" },
                { name: "Qora choy", img: "https://images.unsplash.com/photo-1544787219-7f47ccb76574?w=400" },
                { name: "Ko'k choy", img: "https://images.unsplash.com/photo-1544787219-7f47ccb76574?w=400" },
                { name: "Limonli choy", img: "https://images.unsplash.com/photo-1544787219-7f47ccb76574?w=400" },
                { name: "Asalli choy", img: "https://images.unsplash.com/photo-1544787219-7f47ccb76574?w=400" },
                { name: "Qahva", img: "https://images.unsplash.com/photo-1442512595331-e89e73853f31?w=400" },
                { name: "Kapuchino", img: "https://images.unsplash.com/photo-1534778101976-62847782c213?w=400" },
                { name: "LATTE", img: "https://images.unsplash.com/photo-1534778101976-62847782c213?w=400" },
                { name: "Mokkachino", img: "https://images.unsplash.com/photo-1534778101976-62847782c213?w=400" },
                { name: "Raf", img: "https://images.unsplash.com/photo-1534778101976-62847782c213?w=400" }
            ];

            for (let i = 0; i < drinkFoods.length; i++) {
                products.push({
                    id: `ich${i}`,
                    cat: 'ichimlik',
                    name: { uz: drinkFoods[i].name, ru: drinkFoods[i].name, en: drinkFoods[i].name },
                    price: 8000 + (i * 500),
                    weight: "500ml",
                    img: drinkFoods[i].img,
                    quantity: 0
                });
            }

            // ============================================
            // SHIRINLIKLAR (30 ta)
            // ============================================
            const dessertFoods = [
                { name: "Medovik", img: "https://images.unsplash.com/photo-1571115177098-24ec42ed204d?w=400" },
                { name: "Napoleon", img: "https://images.unsplash.com/photo-1571115177098-24ec42ed204d?w=400" },
                { name: "Tiramisu", img: "https://images.unsplash.com/photo-1571877227200-a0d98ea607e9?w=400" },
                { name: "Cheesecake", img: "https://images.unsplash.com/photo-1533134242443-d4fd215305ad?w=400" },
                { name: "Chak-chak", img: "https://images.unsplash.com/photo-1571115177098-24ec42ed204d?w=400" },
                { name: "Halva", img: "https://images.unsplash.com/photo-1571115177098-24ec42ed204d?w=400" },
                { name: "Paxlava", img: "https://images.unsplash.com/photo-1571115177098-24ec42ed204d?w=400" },
                { name: "Shokoladli tort", img: "https://images.unsplash.com/photo-1578985545062-69928b1d9587?w=400" },
                { name: "Muzqaymoq", img: "https://images.unsplash.com/photo-1497034825429-c343d7c6a68f?w=400" },
                { name: "Fruit Salat", img: "https://images.unsplash.com/photo-1512621776951-a57141f2eefd?w=400" },
                { name: "Blinchik", img: "https://images.unsplash.com/photo-1571115177098-24ec42ed204d?w=400" },
                { name: "Puding", img: "https://images.unsplash.com/photo-1571115177098-24ec42ed204d?w=400" },
                { name: "Sufle", img: "https://images.unsplash.com/photo-1571115177098-24ec42ed204d?w=400" },
                { name: "Jele", img: "https://images.unsplash.com/photo-1571115177098-24ec42ed204d?w=400" },
                { name: "Pechenye", img: "https://images.unsplash.com/photo-1571115177098-24ec42ed204d?w=400" },
                { name: "Ekler", img: "https://images.unsplash.com/photo-1571115177098-24ec42ed204d?w=400" },
                { name: "Profiterol", img: "https://images.unsplash.com/photo-1571115177098-24ec42ed204d?w=400" },
                { name: "Makaron", img: "https://images.unsplash.com/photo-1571115177098-24ec42ed204d?w=400" },
                { name: "Keks", img: "https://images.unsplash.com/photo-1571115177098-24ec42ed204d?w=400" },
                { name: "Rul", img: "https://images.unsplash.com/photo-1571115177098-24ec42ed204d?w=400" },
                { name: "Donat", img: "https://images.unsplash.com/photo-1551024601-bec78aea704b?w=400" },
                { name: "Kruassan", img: "https://images.unsplash.com/photo-1555507036-ab1f4038808a?w=400" },
                { name: "Briosh", img: "https://images.unsplash.com/photo-1571115177098-24ec42ed204d?w=400" },
                { name: "Panakota", img: "https://images.unsplash.com/photo-1571115177098-24ec42ed204d?w=400" },
                { name: "Krem-brule", img: "https://images.unsplash.com/photo-1571115177098-24ec42ed204d?w=400" },
                { name: "Shokolad", img: "https://images.unsplash.com/photo-1571115177098-24ec42ed204d?w=400" },
                { name: "Konfet", img: "https://images.unsplash.com/photo-1571115177098-24ec42ed204d?w=400" },
                { name: "Karamel", img: "https://images.unsplash.com/photo-1571115177098-24ec42ed204d?w=400" },
                { name: "Zefir", img: "https://images.unsplash.com/photo-1571115177098-24ec42ed204d?w=400" },
                { name: "Pastila", img: "https://images.unsplash.com/photo-1571115177098-24ec42ed204d?w=400" }
            ];

            for (let i = 0; i < dessertFoods.length; i++) {
                products.push({
                    id: `shir${i}`,
                    cat: 'shirinlik',
                    name: { uz: dessertFoods[i].name, ru: dessertFoods[i].name, en: dessertFoods[i].name },
                    price: 15000 + (i * 1000),
                    weight: "200g",
                    img: dessertFoods[i].img,
                    quantity: 0
                });
            }

            // YANGI MAHSULOTLARNI LOCALSTORAGE GA SAQLASH
            localStorage.setItem('products', JSON.stringify(products));
        }

        // STATE
        let currentUser = JSON.parse(localStorage.getItem('currentUser')) || null;
        let users = JSON.parse(localStorage.getItem('users')) || [];

        let currentLang = 'uz', cart = [], currentStep = 'cart';
        let orders = JSON.parse(localStorage.getItem('orders')) || [];
        let isAdminLoggedIn = false, currentCategory = 'all', searchQuery = '', adminSearchQuery = '';
        const TELEGRAM_TOKEN = "8227938686:AAGYtIXGoLT2N3mOUdd_lsy-sF4lZnNSD44";
        const TELEGRAM_CHAT_ID = "7000999171";

        // ========================
        // ADMIN PANEL UCHUN ENTER TUGMASI
        // ========================
        function handleAdminKeyPress(event) {
            if (event.key === 'Enter') {
                checkAdminPassword();
            }
        }

        // ========================
        // KOD ORQALI RASM ALMASHTIRISH
        // ========================
        function changeAllImagesViaCode() {
            const urlInput = document.getElementById('codeImageUrl');
            const newUrl = urlInput.value.trim();

            if (newUrl) {
                products.forEach(product => {
                    product.img = newUrl;
                });
                localStorage.setItem('products', JSON.stringify(products));
                displayProducts(currentCategory);
                if (document.getElementById('products').classList.contains('active')) {
                    displayProductsForEdit();
                }
                alert(`âœ… Barcha ${products.length} ta mahsulot rasmi kod orqali almashtirildi!`);
            } else {
                alert("âŒ Iltimos, rasm URL manzilini kiriting!");
            }
        }

        function showCurrentImageUrl() {
            if (products.length > 0) {
                alert(`Joriy rasm URL: ${products[0].img}`);
            } else {
                alert("Mahsulotlar mavjud emas");
            }
        }

        // ========================
        // ADMIN PANEL ORQALI RASM ALMASHTIRISH
        // ========================
        function changeAllProductImages() {
            const newUrl = prompt("Yangi rasm URL manzilini kiriting (barcha mahsulotlar uchun):",
                "https://i.pinimg.com/736x/57/8a/10/578a1037f99f4989c434c8a20d22d37b.jpg");

            if (newUrl && newUrl.trim() !== "") {
                products.forEach(product => {
                    product.img = newUrl.trim();
                });
                localStorage.setItem('products', JSON.stringify(products));
                displayProducts(currentCategory);
                if (document.getElementById('products').classList.contains('active')) {
                    displayProductsForEdit();
                }
                alert(`âœ… Barcha ${products.length} ta mahsulot rasmi admin panel orqali almashtirildi!`);
            }
        }

        // ========================
        // YAKKA MAHSULOT RASMINI O'ZGARTIRISH
        // ========================
        function changeSingleProductImage(productId) {
            const product = products.find(p => p.id === productId);
            if (!product) return;

            const newUrl = prompt(`"${product.name.uz}" uchun yangi rasm URL manzilini kiriting:`, product.img);

            if (newUrl && newUrl.trim() !== "") {
                product.img = newUrl.trim();
                localStorage.setItem('products', JSON.stringify(products));
                displayProducts(currentCategory);
                if (document.getElementById('products').classList.contains('active')) {
                    displayProductsForEdit();
                }
                alert(`âœ… "${product.name.uz}" rasmi muvaffaqiyatli almashtirildi!`);
            }
        }

        // ========================
        // PROFILE DROPDOWN FUNKSIYALARI (TO'LIQ)
        // ========================
        function createProfileDropdown() {
            const dropdown = document.getElementById('profileDropdown');
            if (!dropdown) return;

            dropdown.innerHTML = `
                <div class="profile-dropdown-header">
                    <span style="font-weight:700; color:var(--primary); font-size:15px;">ðŸ‘¤ Profil</span>
                    <button class="profile-dropdown-close" onclick="closeProfileDropdown()">âœ•</button>
                </div>
                <div id="profileNotLoggedIn">
                    <div class="tab-buttons">
                        <button class="tab-button active" onclick="switchAuthTab('login')">Kirish</button>
                        <button class="tab-button" onclick="switchAuthTab('register')">Ro'yxatdan o'tish</button>
                    </div>
                    <div id="loginForm" class="form-tab active">
                        <h4 style="color:var(--primary);margin-bottom:15px;">Tizimga kirish</h4>
                        <div class="profile-field"><label>Telefon</label><input type="text" id="loginPhone" value="+998 " oninput="formatPhone(this)" placeholder="+998 90 123 45 67"></div>
                        <div class="profile-field"><label>Parol</label><input type="password" id="loginPassword" placeholder="Parol"></div>
                        <button class="save-profile-btn" onclick="loginUser()">Kirish</button>
                    </div>
                    <div id="registerForm" class="form-tab">
                        <h4 style="color:var(--primary);margin-bottom:15px;">Ro'yxatdan o'tish</h4>
                        <div class="profile-field"><label>Ism</label><input type="text" id="regName" placeholder="Ismingiz"></div>
                        <div class="profile-field"><label>Familiya</label><input type="text" id="regSurname" placeholder="Familiyangiz"></div>
                        <div class="profile-field"><label>Telefon</label><input type="text" id="regPhone" value="+998 " oninput="formatPhone(this)" placeholder="+998 90 123 45 67"></div>
                        <div class="profile-field"><label>Parol</label><input type="password" id="regPassword" placeholder="Parol"></div>
                        <div class="profile-field"><label>Parolni takrorlang</label><input type="password" id="regConfirmPassword" placeholder="Parolni takrorlang"></div>
                        <button class="save-profile-btn" onclick="registerUser()">Ro'yxatdan o'tish</button>
                    </div>
                </div>
                <div id="profileLoggedIn" style="display:none;">
                    <div class="profile-header">
                        <div class="profile-avatar" onclick="changeProfilePicture()"><img id="profileAvatar" src="https://via.placeholder.com/60" alt="Avatar"></div>
                        <div class="profile-info">
                            <h4 id="profileFullName">Ism Familiya</h4>
                            <p id="profilePhoneDisplay">+998 ** *** ** **</p>
                            <p id="profileStatus" style="font-size:12px; margin-top:4px;"></p>
                        </div>
                    </div>
                    <div class="profile-field"><label>Ism</label><input type="text" id="profileNameInput" value=""></div>
                    <div class="profile-field"><label>Familiya</label><input type="text" id="profileSurnameInput" value=""></div>
                    <div class="profile-field"><label>Telefon</label><input type="text" id="profilePhoneInput" value="" readonly></div>
                    <button class="save-profile-btn" onclick="updateProfile()">Saqlash</button>
                    <button class="logout-btn" onclick="logoutUser()">Chiqish</button>
                </div>
            `;
        }

        function toggleProfileDropdown() {
            const dropdown = document.getElementById('profileDropdown');
            const overlay = document.getElementById('profileOverlay');
            if (!dropdown || !overlay) return;

            const isOpen = dropdown.classList.contains('active');
            if (isOpen) {
                closeProfileDropdown();
            } else {
                dropdown.classList.add('active');
                overlay.classList.add('active');
                updateProfileDropdown();
            }
        }

        function closeProfileDropdown() {
            const dropdown = document.getElementById('profileDropdown');
            const overlay = document.getElementById('profileOverlay');
            if (dropdown) dropdown.classList.remove('active');
            if (overlay) overlay.classList.remove('active');
        }

        function switchAuthTab(tab) {
            document.querySelectorAll('#profileDropdown .tab-button').forEach(b => b.classList.remove('active'));
            document.querySelectorAll('#profileDropdown .form-tab').forEach(f => f.classList.remove('active'));
            if (tab === 'login') {
                document.querySelectorAll('#profileDropdown .tab-button')[0].classList.add('active');
                document.getElementById('loginForm').classList.add('active');
            } else {
                document.querySelectorAll('#profileDropdown .tab-button')[1].classList.add('active');
                document.getElementById('registerForm').classList.add('active');
            }
        }

        function loginUser() {
            const phone = document.getElementById('loginPhone').value.trim();
            const password = document.getElementById('loginPassword').value.trim();
            if (!phone.startsWith('+998')) { alert("Telefon raqam +998 bilan boshlanishi kerak!"); return; }
            if (!password) { alert("Parolni kiriting!"); return; }
            const user = users.find(u => u.phone === phone && u.password === password);
            if (!user) { alert("Telefon raqam yoki parol noto'g'ri!"); return; }
            if (user.blocked) { alert("Sizning akkauntingiz bloklangan! Iltimos, admin bilan bog'laning."); return; }
            currentUser = user;
            localStorage.setItem('currentUser', JSON.stringify(currentUser));
            updateProfileDropdown();
            updateCheckoutForm();
            displayProducts(currentCategory);
            closeProfileDropdown();
            alert("âœ… Tizimga muvaffaqiyatli kirdingiz!");
        }

        function registerUser() {
            const name = document.getElementById('regName').value.trim();
            const surname = document.getElementById('regSurname').value.trim();
            const phone = document.getElementById('regPhone').value.trim();
            const password = document.getElementById('regPassword').value.trim();
            const confirmPassword = document.getElementById('regConfirmPassword').value.trim();
            if (!name || !surname) { alert("Ism va familiyani kiriting!"); return; }
            if (!phone.startsWith('+998')) { alert("Telefon raqam +998 bilan boshlanishi kerak!"); return; }
            if (phone.length < 16) { alert("Telefon raqam to'liq emas!"); return; }
            if (!password || password.length < 4) { alert("Parol kamida 4 belgidan iborat bo'lishi kerak!"); return; }
            if (password !== confirmPassword) { alert("Parollar mos kelmadi!"); return; }
            if (users.some(u => u.phone === phone)) { alert("Bu telefon raqam bilan avval ro'yxatdan o'tilgan!"); return; }
            const newUser = { id: Date.now(), name, surname, phone, password, avatar: "https://via.placeholder.com/60", blocked: false, maxOrder: 100, isAdmin: false, registered: new Date().toISOString() };
            users.push(newUser);
            localStorage.setItem('users', JSON.stringify(users));
            currentUser = newUser;
            localStorage.setItem('currentUser', JSON.stringify(currentUser));
            updateProfileDropdown();
            updateCheckoutForm();
            displayProducts(currentCategory);
            closeProfileDropdown();
            alert("âœ… Ro'yxatdan muvaffaqiyatli o'tdingiz!");
        }

        function updateProfileDropdown() {
            const notLoggedIn = document.getElementById('profileNotLoggedIn');
            const loggedIn = document.getElementById('profileLoggedIn');
            const profileIcon = document.getElementById('profileIcon');
            if (!notLoggedIn || !loggedIn) { createProfileDropdown(); return; }
            if (currentUser) {
                notLoggedIn.style.display = 'none';
                loggedIn.style.display = 'block';
                const userData = users.find(u => u.id === currentUser.id) || currentUser;
                document.getElementById('profileFullName').innerText = `${userData.name} ${userData.surname}`;
                document.getElementById('profilePhoneDisplay').innerText = userData.phone;
                document.getElementById('profileNameInput').value = userData.name;
                document.getElementById('profileSurnameInput').value = userData.surname;
                document.getElementById('profilePhoneInput').value = userData.phone;
                const statusEl = document.getElementById('profileStatus');
                let statusHtml = '';
                if (userData.blocked) statusHtml = '<span class="badge badge-danger">Bloklangan</span>';
                else if (userData.isAdmin) statusHtml = '<span class="badge badge-admin">âšœï¸ Admin</span>';
                else statusHtml = `<span class="badge badge-success">Max: ${userData.maxOrder} ta</span>`;
                statusEl.innerHTML = statusHtml;
                if (userData.avatar) {
                    document.getElementById('profileAvatar').src = userData.avatar;
                    profileIcon.innerHTML = `<img src="${userData.avatar}" alt="Avatar" style="width:100%;height:100%;object-fit:cover;">`;
                } else {
                    profileIcon.innerHTML = '<i class="fas fa-user"></i>';
                }
            } else {
                notLoggedIn.style.display = 'block';
                loggedIn.style.display = 'none';
                profileIcon.innerHTML = '<i class="fas fa-user"></i>';
            }
            updateLoginRequiredMessage();
        }

        function logoutUser() {
            currentUser = null;
            localStorage.removeItem('currentUser');
            products.forEach(p => p.quantity = 0);
            cart = [];
            updateCart();
            updateProfileDropdown();
            displayProducts(currentCategory);
            closeProfileDropdown();
            updateLoginRequiredMessage();
            document.getElementById('nameInput').value = '';
            document.getElementById('surnameInput').value = '';
            document.getElementById('phoneInput').value = '+998 ';
            if (document.getElementById('cartPanel').classList.contains('active')) {
                togglePanel('cartPanel');
            }
            alert("âœ… Tizimdan muvaffaqiyatli chiqdingiz!");
        }

        function changeProfilePicture() {
            if (!currentUser) return;
            const url = prompt("Rasm URL manzilini kiriting:", currentUser.avatar || "https://i.pinimg.com/736x/57/8a/10/578a1037f99f4989c434c8a20d22d37b.jpg");
            if (url) {
                currentUser.avatar = url;
                const idx = users.findIndex(u => u.id === currentUser.id);
                if (idx !== -1) { users[idx].avatar = url; localStorage.setItem('users', JSON.stringify(users)); }
                localStorage.setItem('currentUser', JSON.stringify(currentUser));
                updateProfileDropdown();
            }
        }

        function updateProfile() {
            if (!currentUser) return;
            const name = document.getElementById('profileNameInput').value.trim();
            const surname = document.getElementById('profileSurnameInput').value.trim();
            if (!name || !surname) { alert("Ism va familiyani kiriting!"); return; }
            currentUser.name = name; currentUser.surname = surname;
            const idx = users.findIndex(u => u.id === currentUser.id);
            if (idx !== -1) { users[idx].name = name; users[idx].surname = surname; localStorage.setItem('users', JSON.stringify(users)); }
            localStorage.setItem('currentUser', JSON.stringify(currentUser));
            updateProfileDropdown();
            alert("âœ… Profil ma'lumotlari saqlandi!");
        }

        function updateCheckoutForm() {
            if (currentUser) {
                document.getElementById('nameInput').value = currentUser.name || '';
                document.getElementById('surnameInput').value = currentUser.surname || '';
                document.getElementById('phoneInput').value = currentUser.phone || '+998 ';
            } else {
                document.getElementById('nameInput').value = '';
                document.getElementById('surnameInput').value = '';
                document.getElementById('phoneInput').value = '+998 ';
            }
        }

        function updateLoginRequiredMessage() {
            const messageDiv = document.getElementById('loginRequiredMessage');
            const checkoutBtn = document.getElementById('checkoutBtn');
            if (!messageDiv || !checkoutBtn) return;

            if (!currentUser) {
                messageDiv.style.display = 'block';
                checkoutBtn.disabled = true;
            } else {
                const userData = users.find(u => u.id === currentUser.id);
                if (userData && userData.blocked) {
                    messageDiv.style.display = 'block';
                    messageDiv.innerHTML = '<p>ðŸ”’ Sizning akkauntingiz bloklangan! Admin bilan bog\'laning.</p>';
                    checkoutBtn.disabled = true;
                } else {
                    messageDiv.style.display = 'none';
                    checkoutBtn.disabled = false;
                }
            }
        }

        function formatPhone(input) {
            let value = input.value.replace(/\D/g, '');
            if (value.length === 0) { input.value = '+998 '; return; }
            if (!value.startsWith('998')) value = '998' + value;
            if (value.length > 12) value = value.slice(0, 12);
            let formatted = '+998 ';
            if (value.length > 3) {
                formatted += value.slice(3, 5);
                if (value.length > 5) {
                    formatted += ' ' + value.slice(5, 8);
                    if (value.length > 8) {
                        formatted += ' ' + value.slice(8, 10);
                        if (value.length > 10) formatted += ' ' + value.slice(10, 12);
                    }
                }
            }
            input.value = formatted;
        }

        // ========================
        // PRODUCTS DISPLAY (KATEGORIYALARGA AJRATILGAN - HORIZONTAL SCROLL)
        // ========================
        function searchProducts() {
            const searchInput = document.getElementById('searchInput');
            const clearBtn = document.getElementById('clearSearch');
            if (!searchInput || !clearBtn) return;

            searchQuery = searchInput.value.toLowerCase().trim();
            clearBtn.style.display = searchQuery.length > 0 ? 'block' : 'none';
            const searchStats = document.getElementById('searchStats');
            if (searchStats) searchStats.style.display = searchQuery.length > 0 ? 'block' : 'none';
            displayProducts(currentCategory);
        }

        function clearSearch() {
            const searchInput = document.getElementById('searchInput');
            const clearBtn = document.getElementById('clearSearch');
            const searchStats = document.getElementById('searchStats');

            if (searchInput) searchInput.value = '';
            searchQuery = '';
            if (clearBtn) clearBtn.style.display = 'none';
            if (searchStats) searchStats.style.display = 'none';
            displayProducts(currentCategory);
        }

        function displayProducts(category = 'all') {
            currentCategory = category;
            const grid = document.getElementById('menuGrid');
            if (!grid) return;

            grid.innerHTML = '';

            // Agar qidiruv bo'lsa, barcha mahsulotlarni ko'rsat
            if (searchQuery.length > 0) {
                let filtered = products.filter(p => (p.name[currentLang] || p.name.uz).toLowerCase().includes(searchQuery));

                const searchResultCount = document.getElementById('searchResultCount');
                const searchResultText = document.getElementById('searchResultText');

                if (searchResultCount) searchResultCount.innerText = filtered.length;
                if (searchResultText) searchResultText.innerText = ` ${langData[currentLang].searchResults}`;

                if (filtered.length === 0) {
                    grid.innerHTML = `<div class="no-results">ðŸ” ${langData[currentLang].noResults}</div>`;
                    return;
                }

                // Qidiruv natijalarini kategoriyalarga ajratib ko'rsatish
                const categories = ['milliy', 'kabob', 'salat', 'gazak', 'ichimlik', 'shirinlik'];
                const categoryNames = {
                    milliy: langData[currentLang].categories.milliy,
                    kabob: langData[currentLang].categories.kabob,
                    salat: langData[currentLang].categories.salat,
                    gazak: langData[currentLang].categories.gazak,
                    ichimlik: langData[currentLang].categories.ichimlik,
                    shirinlik: langData[currentLang].categories.shirinlik
                };

                const categoryIcons = {
                    milliy: 'ðŸ²',
                    kabob: 'ðŸ¢',
                    salat: 'ðŸ¥—',
                    gazak: 'ðŸ¥–',
                    ichimlik: 'ðŸ¥¤',
                    shirinlik: 'ðŸ°'
                };

                categories.forEach(cat => {
                    const catProducts = filtered.filter(p => p.cat === cat);
                    if (catProducts.length > 0) {
                        let catHtml = `<div class="category-section">`;
                        catHtml += `<h2 class="category-title">${categoryIcons[cat]} ${categoryNames[cat]}</h2>`;
                        catHtml += `<div class="category-products">`;

                        catProducts.forEach(p => {
                            const currentName = p.name[currentLang] || p.name.uz;
                            let displayName = currentName;
                            const regex = new RegExp(`(${searchQuery})`, 'gi');
                            displayName = currentName.replace(regex, '<span class="highlight">$1</span>');

                            catHtml += `<div class="card" id="card-${p.id}">
                                <button class="goto-btn" onclick="goToProduct('${p.id}')" title="Mahsulotga o'tish"><i class="fas fa-arrow-right"></i></button>
                                <img src="${p.img}" onerror="this.src='https://images.unsplash.com/photo-1546069901-ba9599a7e63c?w=400'">
                                <h3>${displayName}</h3>
                                <div class="product-weight">${p.weight}</div>
                                <div class="price">${p.price.toLocaleString()} ${langData[currentLang].currency}</div>
                                <div class="quantity-controls">
                                    <button class="qty-btn minus" onclick="decreaseQuantity('${p.id}')">âˆ’</button>
                                    <span class="qty-value" id="qty-${p.id}">${p.quantity}</span>
                                    <button class="qty-btn plus" onclick="increaseQuantity('${p.id}')">+</button>
                                </div>
                            </div>`;
                        });

                        catHtml += `</div></div>`;
                        grid.innerHTML += catHtml;
                    }
                });
                return;
            }

            // Agar muayyan kategoriya tanlangan bo'lsa
            if (category !== 'all') {
                const catProducts = products.filter(p => p.cat === category);
                const catIcons = {
                    milliy: 'ðŸ²',
                    kabob: 'ðŸ¢',
                    salat: 'ðŸ¥—',
                    gazak: 'ðŸ¥–',
                    ichimlik: 'ðŸ¥¤',
                    shirinlik: 'ðŸ°'
                };

                let catHtml = `<div class="category-section">`;
                catHtml += `<h2 class="category-title">${catIcons[category]} ${langData[currentLang].categories[category]}</h2>`;
                catHtml += `<div class="category-products">`;

                catProducts.forEach(p => {
                    const currentName = p.name[currentLang] || p.name.uz;
                    catHtml += `<div class="card" id="card-${p.id}">
                        <button class="goto-btn" onclick="goToProduct('${p.id}')" title="Mahsulotga o'tish"><i class="fas fa-arrow-right"></i></button>
                        <img src="${p.img}" onerror="this.src='https://images.unsplash.com/photo-1546069901-ba9599a7e63c?w=400'">
                        <h3>${currentName}</h3>
                        <div class="product-weight">${p.weight}</div>
                        <div class="price">${p.price.toLocaleString()} ${langData[currentLang].currency}</div>
                        <div class="quantity-controls">
                            <button class="qty-btn minus" onclick="decreaseQuantity('${p.id}')">âˆ’</button>
                            <span class="qty-value" id="qty-${p.id}">${p.quantity}</span>
                            <button class="qty-btn plus" onclick="increaseQuantity('${p.id}')">+</button>
                        </div>
                    </div>`;
                });

                catHtml += `</div></div>`;
                grid.innerHTML = catHtml;
                return;
            }

            // Barcha mahsulotlarni kategoriyalarga ajratib ko'rsatish
            const categories = ['milliy', 'kabob', 'salat', 'gazak', 'ichimlik', 'shirinlik'];
            const categoryNames = {
                milliy: langData[currentLang].categories.milliy,
                kabob: langData[currentLang].categories.kabob,
                salat: langData[currentLang].categories.salat,
                gazak: langData[currentLang].categories.gazak,
                ichimlik: langData[currentLang].categories.ichimlik,
                shirinlik: langData[currentLang].categories.shirinlik
            };

            const categoryIcons = {
                milliy: 'ðŸ²',
                kabob: 'ðŸ¢',
                salat: 'ðŸ¥—',
                gazak: 'ðŸ¥–',
                ichimlik: 'ðŸ¥¤',
                shirinlik: 'ðŸ°'
            };

            categories.forEach(cat => {
                const catProducts = products.filter(p => p.cat === cat);
                if (catProducts.length > 0) {
                    let catHtml = `<div class="category-section">`;
                    catHtml += `<h2 class="category-title">${categoryIcons[cat]} ${categoryNames[cat]}</h2>`;
                    catHtml += `<div class="category-products">`;

                    catProducts.forEach(p => {
                        const currentName = p.name[currentLang] || p.name.uz;
                        catHtml += `<div class="card" id="card-${p.id}">
                            <button class="goto-btn" onclick="goToProduct('${p.id}')" title="Mahsulotga o'tish"><i class="fas fa-arrow-right"></i></button>
                            <img src="${p.img}" onerror="this.src='https://images.unsplash.com/photo-1546069901-ba9599a7e63c?w=400'">
                            <h3>${currentName}</h3>
                            <div class="product-weight">${p.weight}</div>
                            <div class="price">${p.price.toLocaleString()} ${langData[currentLang].currency}</div>
                            <div class="quantity-controls">
                                <button class="qty-btn minus" onclick="decreaseQuantity('${p.id}')">âˆ’</button>
                                <span class="qty-value" id="qty-${p.id}">${p.quantity}</span>
                                <button class="qty-btn plus" onclick="increaseQuantity('${p.id}')">+</button>
                            </div>
                        </div>`;
                    });

                    catHtml += `</div></div>`;
                    grid.innerHTML += catHtml;
                }
            });
        }

        function increaseQuantity(productId) {
            if (!currentUser) { alert("Buyurtma berish uchun avval akkauntga kiring!"); toggleProfileDropdown(); return; }
            const userData = users.find(u => u.id === currentUser.id);
            if (userData && userData.blocked) { alert("Sizning akkauntingiz bloklangan!"); return; }
            const product = products.find(p => p.id === productId);
            if (product) {
                const currentTotal = cart.reduce((sum, item) => sum + item.quantity, 0);
                const maxOrder = userData?.maxOrder || 100;
                if (currentTotal >= maxOrder) {
                    const w = document.getElementById('maxWarning');
                    if (w) {
                        w.style.display = 'block';
                        w.innerHTML = `âš ï¸ Maksimal ${maxOrder} ta mahsulot buyurtma qilishingiz mumkin!`;
                        setTimeout(() => w.style.display = 'none', 3000);
                    }
                    return;
                }
                product.quantity++;
                const qtyElement = document.getElementById(`qty-${productId}`);
                if (qtyElement) qtyElement.textContent = product.quantity;

                const cartItem = cart.find(item => item.id === productId);
                if (cartItem) {
                    cartItem.quantity = product.quantity;
                } else {
                    cart.push({
                        id: product.id,
                        name: product.name,
                        price: product.price,
                        weight: product.weight,
                        quantity: product.quantity
                    });
                }
                updateCart();
            }
        }

        function decreaseQuantity(productId) {
            const product = products.find(p => p.id === productId);
            if (product && product.quantity > 0) {
                product.quantity--;
                const qtyElement = document.getElementById(`qty-${productId}`);
                if (qtyElement) qtyElement.textContent = product.quantity;

                const cartIndex = cart.findIndex(item => item.id === productId);
                if (cartIndex !== -1) {
                    if (product.quantity === 0) {
                        cart.splice(cartIndex, 1);
                    } else {
                        cart[cartIndex].quantity = product.quantity;
                    }
                }
                updateCart();
            }
        }

        function updateCart() {
            const totalItems = cart.reduce((sum, item) => sum + item.quantity, 0);
            const cartCount = document.getElementById('cartCount');
            if (cartCount) cartCount.innerText = totalItems;

            if (currentUser) {
                const userData = users.find(u => u.id === currentUser.id);
                const w = document.getElementById('maxWarning');
                if (w && userData && totalItems >= userData.maxOrder) {
                    w.style.display = 'block';
                    w.innerHTML = `âš ï¸ Maksimal ${userData.maxOrder} ta mahsulot!`;
                } else if (w) {
                    w.style.display = 'none';
                }
            }

            const list = document.getElementById('cartList');
            if (!list) return;

            list.innerHTML = '';
            let total = 0;
            cart.forEach(item => {
                const itemTotal = item.price * item.quantity;
                total += itemTotal;
                const currentName = item.name[currentLang] || item.name.uz;
                list.innerHTML += `<div style="display:flex;justify-content:space-between;margin-bottom:15px;padding-bottom:10px;border-bottom:1px solid rgba(245,179,66,0.2);">
                    <div style="flex:2"><div><b>${currentName}</b></div><div style="font-size:12px;color:var(--text-muted);">${item.weight} | ${item.price.toLocaleString()} so'm</div></div>
                    <div style="flex:1;text-align:right;">
                        <div style="display:flex;align-items:center;gap:5px;justify-content:flex-end;">
                            <button class="nav-btn" style="padding:5px 10px;" onclick="decreaseQuantity('${item.id}')">âˆ’</button>
                            <input type="number" class="quantity-input" value="${item.quantity}" min="0" onchange="setQuantity('${item.id}',this)" style="width:50px;">
                            <button class="nav-btn" style="padding:5px 10px;background:var(--primary);color:#0f0b07;" onclick="increaseQuantity('${item.id}')">+</button>
                        </div>
                        <div style="margin-top:5px;"><b style="color:var(--primary);">${itemTotal.toLocaleString()} so'm</b></div>
                    </div>
                </div>`;
            });
            const totalPrice = document.getElementById('totalPrice');
            if (totalPrice) totalPrice.innerText = total.toLocaleString();
        }

        function setQuantity(productId, input) {
            if (!currentUser) { alert("Avval kiring!"); toggleProfileDropdown(); return; }
            const userData = users.find(u => u.id === currentUser.id);
            let value = parseInt(input.value);
            const product = products.find(p => p.id === productId);
            if (isNaN(value) || value < 0) value = 0;
            const maxOrder = userData?.maxOrder || 100;
            if (value > maxOrder) value = maxOrder;
            const currentTotal = cart.reduce((sum, item) => { if (item.id === productId) return sum + value; return sum + item.quantity; }, 0);
            if (currentTotal > maxOrder) {
                alert(`Maksimal ${maxOrder} ta mahsulot!`);
                input.value = product.quantity;
                return;
            }
            product.quantity = value;
            const qtyElement = document.getElementById(`qty-${productId}`);
            if (qtyElement) qtyElement.textContent = value;

            if (value > 0) {
                const cartItem = cart.find(item => item.id === productId);
                if (cartItem) {
                    cartItem.quantity = value;
                } else {
                    cart.push({
                        id: product.id,
                        name: product.name,
                        price: product.price,
                        weight: product.weight,
                        quantity: value
                    });
                }
            } else {
                const idx = cart.findIndex(item => item.id === productId);
                if (idx !== -1) cart.splice(idx, 1);
            }
            updateCart();
        }

        function showCheckout() {
            if (!currentUser) { alert("Buyurtma berish uchun avval akkauntga kiring!"); toggleProfileDropdown(); return; }
            const userData = users.find(u => u.id === currentUser.id);
            if (userData && userData.blocked) { alert("Sizning akkauntingiz bloklangan!"); return; }
            if (cart.length === 0) { alert("Savatchangiz bo'sh!"); return; }
            currentStep = 'checkout';
            const cartView = document.getElementById('cartView');
            const checkoutView = document.getElementById('checkoutView');
            const step1 = document.getElementById('step1');
            const step2 = document.getElementById('step2');

            if (cartView) cartView.style.display = 'none';
            if (checkoutView) checkoutView.style.display = 'block';
            if (step1) step1.classList.remove('active');
            if (step2) step2.classList.add('active');
            updateCheckoutSummary();
        }

        function showCart() {
            currentStep = 'cart';
            const cartView = document.getElementById('cartView');
            const checkoutView = document.getElementById('checkoutView');
            const step1 = document.getElementById('step1');
            const step2 = document.getElementById('step2');

            if (cartView) cartView.style.display = 'block';
            if (checkoutView) checkoutView.style.display = 'none';
            if (step1) step1.classList.add('active');
            if (step2) step2.classList.remove('active');
        }

        function updateCheckoutSummary() {
            const summary = document.getElementById('checkoutSummary');
            if (!summary) return;

            let html = '', total = 0;
            cart.forEach(item => {
                const itemTotal = item.price * item.quantity;
                total += itemTotal;
                const n = item.name[currentLang] || item.name.uz;
                html += `<div class="summary-item"><span>${n} x${item.quantity} (${item.weight})</span><span>${itemTotal.toLocaleString()} ${langData[currentLang].currency}</span></div>`;
            });
            html += `<div class="summary-total"><span>JAMI:</span><span>${total.toLocaleString()} ${langData[currentLang].currency}</span></div>`;
            summary.innerHTML = html;
        }

        function validateOrder() {
            const name = document.getElementById('nameInput').value.trim();
            const surname = document.getElementById('surnameInput').value.trim();
            const phone = document.getElementById('phoneInput').value.trim();
            const address = document.getElementById('addressInput').value.trim();
            let isValid = true;

            const nameError = document.getElementById('nameError');
            const surnameError = document.getElementById('surnameError');
            const phoneError = document.getElementById('phoneError');
            const addressError = document.getElementById('addressError');

            if (nameError) nameError.style.display = name ? 'none' : 'block'; if (!name) isValid = false;
            if (surnameError) surnameError.style.display = surname ? 'none' : 'block'; if (!surname) isValid = false;
            const phoneRegex = /^\+998 \d{2} \d{3} \d{2} \d{2}$/;
            if (phoneError) phoneError.style.display = phoneRegex.test(phone) ? 'none' : 'block'; if (!phoneRegex.test(phone)) isValid = false;
            if (addressError) addressError.style.display = address ? 'none' : 'block'; if (!address) isValid = false;
            return isValid;
        }

        function submitOrder() {
            if (!currentUser) { alert("Avval kiring!"); return; }
            const userData = users.find(u => u.id === currentUser.id);
            if (userData && userData.blocked) { alert("Akkauntingiz bloklangan!"); return; }
            if (!validateOrder()) { alert("âŒ Barcha majburiy maydonlarni to'ldiring!"); return; }
            const totalItems = cart.reduce((sum, item) => sum + item.quantity, 0);
            const maxOrder = userData?.maxOrder || 100;
            if (totalItems > maxOrder) { alert(`âŒ Maksimal ${maxOrder} ta mahsulot!`); return; }

            const name = document.getElementById('nameInput').value.trim();
            const surname = document.getElementById('surnameInput').value.trim();
            const phone = document.getElementById('phoneInput').value.trim();
            const address = document.getElementById('addressInput').value.trim();
            const note = document.getElementById('noteInput').value.trim();
            const promo = document.getElementById('promoInput').value.trim();

            let total = cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);
            let discount = 0;
            const promoMessage = document.getElementById('promoMessage');

            if (promo.toLowerCase() === 'fazo50') {
                discount = total * 0.5;
                total = total * 0.5;
                if (promoMessage) promoMessage.innerText = 'âœ… 50% chegirma!';
            } else if (promo && promoMessage) {
                promoMessage.innerText = 'âŒ Noto\'g\'ri promokod';
            }

            const order = {
                id: Date.now(),
                time: new Date().toLocaleString('uz-UZ'),
                customer: name + ' ' + surname,
                phone,
                address,
                note: note || 'Yo\'q',
                userId: currentUser.id,
                items: cart.map(item => ({
                    name: item.name[currentLang] || item.name.uz,
                    weight: item.weight,
                    quantity: item.quantity,
                    price: item.price,
                    total: item.price * item.quantity
                })),
                total: Math.round(total),
                originalTotal: Math.round(total + discount),
                discount: Math.round(discount)
            };

            orders.push(order);
            localStorage.setItem('orders', JSON.stringify(orders));

            // Telegramga yuborish
            let msg = "ðŸ› <b>YANGI BUYURTMA</b>\n\n";
            msg += `ðŸ‘¤ <b>Ism:</b> ${name} ${surname}\nðŸ“ž <b>Telefon:</b> ${phone}\nðŸ“ <b>Manzil:</b> ${address}\n`;
            if (note) msg += `ðŸ“ <b>Eslatma:</b> ${note}\n`;
            if (discount > 0) msg += `ðŸ’° <b>Chegirma:</b> ${discount.toLocaleString()} so'm\n`;
            msg += `\nðŸ“¦ <b>Buyurtmalar:</b>\n`;
            cart.forEach(item => {
                const n = item.name[currentLang] || item.name.uz;
                msg += `   â€¢ ${n} (${item.weight}) x${item.quantity} = ${(item.price * item.quantity).toLocaleString()} so'm\n`;
            });
            msg += `\nðŸ’µ <b>JAMI:</b> ${Math.round(total).toLocaleString()} so'm\nâ° <b>Vaqt:</b> ${order.time}`;

            fetch(`https://api.telegram.org/bot${TELEGRAM_TOKEN}/sendMessage`, {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({ chat_id: TELEGRAM_CHAT_ID, text: msg, parse_mode: 'HTML' })
            }).catch(e => console.log(e));

            alert("âœ… Buyurtmangiz qabul qilindi! Tez orada operator siz bilan bog'lanadi.");

            products.forEach(p => p.quantity = 0);
            cart = [];
            updateCart();

            const addressInput = document.getElementById('addressInput');
            const noteInput = document.getElementById('noteInput');
            const promoInput = document.getElementById('promoInput');

            if (addressInput) addressInput.value = '';
            if (noteInput) noteInput.value = '';
            if (promoInput) promoInput.value = '';
            if (promoMessage) promoMessage.innerText = '';

            showCart();
            togglePanel('cartPanel');
            displayProducts(currentCategory);
            if (isAdminLoggedIn) updateAdminStats();
        }

        // ========================
        // LANGUAGE
        // ========================
        function changeLang(lang) {
            currentLang = lang;
            const d = langData[lang];

            const navAbout = document.getElementById('navAbout');
            const navAdmin = document.getElementById('navAdmin');
            const badgeText = document.getElementById('badgeText');
            const heroTitle = document.getElementById('heroTitle');
            const heroDesc = document.getElementById('heroDesc');
            const ctaBtn = document.getElementById('ctaBtn');
            const stat1 = document.getElementById('stat1');
            const stat2 = document.getElementById('stat2');
            const stat3 = document.getElementById('stat3');
            const cartTitle = document.getElementById('cartTitle');
            const totalLabel = document.getElementById('totalLabel');
            const aboutTitle = document.getElementById('aboutTitle');
            const aboutText1 = document.getElementById('aboutText1');
            const aboutLocation = document.getElementById('aboutLocation');
            const aboutPhone = document.getElementById('aboutPhone');
            const aboutTG = document.getElementById('aboutTG');
            const aboutName = document.getElementById('aboutName');
            const searchResultText = document.getElementById('searchResultText');

            if (navAbout) navAbout.innerText = d.navAbout;
            if (navAdmin) navAdmin.innerText = d.navAdmin;
            if (badgeText) badgeText.innerText = d.badgeText;
            if (heroTitle) heroTitle.innerHTML = d.heroTitle;
            if (heroDesc) heroDesc.innerText = d.heroDesc;
            if (ctaBtn) ctaBtn.innerText = d.ctaBtn;
            if (stat1) stat1.innerText = d.stat1;
            if (stat2) stat2.innerText = d.stat2;
            if (stat3) stat3.innerText = d.stat3;
            if (cartTitle) cartTitle.innerText = d.cartTitle;
            if (totalLabel) totalLabel.innerText = d.totalLabel;
            document.querySelectorAll('.currency').forEach(el => el.innerText = d.currency);
            if (aboutTitle) aboutTitle.innerText = d.aboutTitle;
            if (aboutText1) aboutText1.innerText = d.aboutText1;
            if (aboutLocation) aboutLocation.innerText = d.aboutLocation;
            if (aboutPhone) aboutPhone.innerText = d.aboutPhone;
            if (aboutTG) aboutTG.innerText = d.aboutTG;
            if (aboutName) aboutName.innerText = d.aboutName;
            if (searchResultText) searchResultText.innerText = ` ${d.searchResults}`;

            updateSearchPlaceholder();

            const cats = ['all', 'milliy', 'osiyo', 'salat', 'kabob', 'gazak', 'ichimlik', 'shirinlik'];
            const catNames = {
                all: d.all,
                milliy: d.milliy,
                osiyo: d.osiyo,
                salat: d.salat,
                kabob: d.kabob,
                gazak: d.gazak,
                ichimlik: d.ichimlik,
                shirinlik: d.shirinlik
            };

            const filterBar = document.getElementById('filterBar');
            if (filterBar) {
                filterBar.innerHTML = cats.map(c =>
                    `<button class="filter-btn ${c === currentCategory ? 'active' : ''}" onclick="filterMenu('${c}',this)">${catNames[c]}</button>`
                ).join('');
            }
            displayProducts(currentCategory);
        }

        function filterMenu(cat, btn) {
            document.querySelectorAll('.filter-btn').forEach(b => b.classList.remove('active'));
            btn.classList.add('active');
            displayProducts(cat);
        }

        function togglePanel(id) {
            const panel = document.getElementById(id);
            if (panel) {
                panel.classList.toggle('active');
                if (id === 'cartPanel' && currentStep === 'checkout') showCart();
            }
        }

        function toggleAbout(show) {
            const aboutModal = document.getElementById('aboutModal');
            if (aboutModal) aboutModal.style.display = show ? 'flex' : 'none';
        }

        window.onscroll = function () {
            const btn = document.getElementById('scrollToTop');
            if (btn) {
                if (document.body.scrollTop > 200 || document.documentElement.scrollTop > 200) {
                    btn.classList.add('show');
                } else {
                    btn.classList.remove('show');
                }
            }
        };

        function scrollToTop() {
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        // ========================
        // ADMIN PANEL
        // ========================
        function toggleAdminPanel() {
            const panel = document.getElementById('adminPanel');
            const login = document.getElementById('adminLogin');
            const content = document.getElementById('adminContent');

            if (panel) panel.classList.toggle('active');
            if (!isAdminLoggedIn) {
                if (login) login.style.display = 'block';
                if (content) content.style.display = 'none';
            }
        }

        function checkAdminPassword() {
            const password = document.getElementById('adminPassword').value;
            if (password === "00987") {
                isAdminLoggedIn = true;
                const login = document.getElementById('adminLogin');
                const content = document.getElementById('adminContent');
                if (login) login.style.display = 'none';
                if (content) content.style.display = 'block';
                updateAdminStats();
                displayOrders();
                displayUsers();
                displayProductsForEdit();
            } else {
                alert("âŒ Noto'g'ri parol!");
            }
        }

        function logoutAdmin() {
            isAdminLoggedIn = false;
            const login = document.getElementById('adminLogin');
            const content = document.getElementById('adminContent');
            const password = document.getElementById('adminPassword');

            if (login) login.style.display = 'block';
            if (content) content.style.display = 'none';
            if (password) password.value = '';
            toggleAdminPanel();
        }

        function switchAdminTab(tab, el) {
            document.querySelectorAll('.admin-tab').forEach(t => t.classList.remove('active'));
            document.querySelectorAll('.admin-content').forEach(c => c.classList.remove('active'));
            if (el) el.classList.add('active');
            const tabElement = document.getElementById(tab);
            if (tabElement) tabElement.classList.add('active');
            if (tab === 'orders') displayOrders();
            if (tab === 'users') displayUsers();
            if (tab === 'products') displayProductsForEdit();
            if (tab === 'dashboard') updateAdminStats();
        }

        function updateAdminStats() {
            const totalOrdersStat = document.getElementById('totalOrdersStat');
            const totalRevenueStat = document.getElementById('totalRevenueStat');
            const totalProductsStat = document.getElementById('totalProductsStat');

            if (totalOrdersStat) totalOrdersStat.innerText = orders.length;
            const totalRevenue = orders.reduce((sum, o) => sum + o.total, 0);
            if (totalRevenueStat) totalRevenueStat.innerText = totalRevenue.toLocaleString();
            if (totalProductsStat) totalProductsStat.innerText = products.length;

            const recent = orders.slice(-5).reverse();
            let html = '<table class="orders-table"><tr><th>Vaqt</th><th>Mijoz</th><th>Jami</th><th>Amallar</th></tr>';
            recent.forEach(o => {
                html += `<tr>
                    <td>${o.time}</td>
                    <td>${o.customer}</td>
                    <td>${o.total.toLocaleString()} so'm</td>
                    <td><button class="delete-order-btn" onclick="deleteOrder(${o.id})">ðŸ—‘ O'chirish</button></td>
                </tr>`;
            });
            html += '</table>';
            const recentOrdersList = document.getElementById('recentOrdersList');
            if (recentOrdersList) recentOrdersList.innerHTML = html;
        }

        function displayOrders() {
            const list = document.getElementById('ordersList');
            if (!list) return;

            let html = '';
            orders.slice().reverse().forEach(o => {
                const items = o.items.map(i => `${i.name} (${i.weight}) x${i.quantity}`).join('<br>');
                html += `<tr>
                    <td>${o.time}</td>
                    <td>${o.customer}</td>
                    <td>${o.phone}</td>
                    <td>${o.address.length > 30 ? o.address.substring(0, 30) + '...' : o.address}</td>
                    <td class="order-items">${items}</td>
                    <td>${o.total.toLocaleString()} so'm</td>
                    <td>${o.note || 'â€”'}</td>
                    <td><button class="delete-order-btn" onclick="deleteOrder(${o.id})">ðŸ—‘ O'chirish</button></td>
                </tr>`;
            });
            list.innerHTML = html;
        }

        function deleteOrder(orderId) {
            if (confirm("Rostdan ham bu buyurtmani o'chirmoqchimisiz?")) {
                orders = orders.filter(o => o.id !== orderId);
                localStorage.setItem('orders', JSON.stringify(orders));
                if (document.getElementById('orders').classList.contains('active')) {
                    displayOrders();
                }
                if (document.getElementById('dashboard').classList.contains('active')) {
                    updateAdminStats();
                }
                alert("âœ… Buyurtma o'chirildi!");
            }
        }

        // ========================
        // ADMIN USERS
        // ========================
        function getAdminCount() {
            return users.filter(u => u.isAdmin).length;
        }

        function addNewUser() {
            const name = document.getElementById('newUserName')?.value.trim();
            const surname = document.getElementById('newUserSurname')?.value.trim();
            const phone = document.getElementById('newUserPhone')?.value.trim();
            const password = document.getElementById('newUserPassword')?.value.trim();
            const maxOrder = parseInt(document.getElementById('newUserMaxOrder')?.value) || 100;
            const isAdmin = document.getElementById('newUserIsAdmin')?.checked;

            if (!name || !surname) { alert("âŒ Ism va familiyani kiriting!"); return; }
            if (!phone?.startsWith('+998') || phone.length < 16) { alert("âŒ To'g'ri telefon kiriting!"); return; }
            if (!password || password.length < 4) { alert("âŒ Parol kamida 4 ta belgi bo'lishi kerak!"); return; }
            if (users.some(u => u.phone === phone)) { alert("âŒ Bu telefon allaqachon ro'yxatda bor!"); return; }

            if (isAdmin && getAdminCount() >= 5) {
                alert("âŒ Maksimal 5 ta admin bo'lishi mumkin! Avval birini admin huquqidan mahrum qiling.");
                return;
            }

            const newUser = {
                id: Date.now(),
                name,
                surname,
                phone,
                password,
                avatar: "https://via.placeholder.com/60",
                blocked: false,
                maxOrder,
                isAdmin,
                registered: new Date().toLocaleString('uz-UZ')
            };
            users.push(newUser);
            localStorage.setItem('users', JSON.stringify(users));

            const newUserName = document.getElementById('newUserName');
            const newUserSurname = document.getElementById('newUserSurname');
            const newUserPhone = document.getElementById('newUserPhone');
            const newUserPassword = document.getElementById('newUserPassword');
            const newUserMaxOrder = document.getElementById('newUserMaxOrder');
            const newUserIsAdmin = document.getElementById('newUserIsAdmin');

            if (newUserName) newUserName.value = '';
            if (newUserSurname) newUserSurname.value = '';
            if (newUserPhone) newUserPhone.value = '+998 ';
            if (newUserPassword) newUserPassword.value = '';
            if (newUserMaxOrder) newUserMaxOrder.value = '100';
            if (newUserIsAdmin) newUserIsAdmin.checked = false;

            displayUsers();
            alert(`âœ… Foydalanuvchi qo'shildi: ${name} ${surname}`);
        }

        function deleteUser(userId) {
            const user = users.find(u => u.id === userId);
            if (!user) { return; }
            if (!confirm(`"${user.name} ${user.surname}" ni o'chirmoqchimisiz?`)) return;
            if (currentUser && currentUser.id === userId) {
                alert("Siz o'zingizni o'chira olmaysiz!"); return;
            }
            users = users.filter(u => u.id !== userId);
            localStorage.setItem('users', JSON.stringify(users));
            displayUsers();
            alert("âœ… Foydalanuvchi o'chirildi!");
        }

        function toggleUserBlock(userId) {
            const user = users.find(u => u.id === userId);
            if (user) {
                user.blocked = !user.blocked;
                localStorage.setItem('users', JSON.stringify(users));
                if (currentUser && currentUser.id === userId) {
                    currentUser.blocked = user.blocked;
                    localStorage.setItem('currentUser', JSON.stringify(currentUser));
                    updateLoginRequiredMessage();
                    displayProducts(currentCategory);
                }
                displayUsers();
                alert(`Foydalanuvchi ${user.blocked ? 'bloklandi' : 'blokdan ochildi'}`);
            }
        }

        function toggleAdminRole(userId) {
            const user = users.find(u => u.id === userId);
            if (!user) return;
            if (!user.isAdmin) {
                if (getAdminCount() >= 5) { alert("âŒ Maksimal 5 ta admin bo'lishi mumkin!"); return; }
                if (!confirm(`"${user.name} ${user.surname}" ga admin huquqi berilsinmi?`)) return;
                user.isAdmin = true;
                alert(`âœ… ${user.name} admin qilindi!`);
            } else {
                if (!confirm(`"${user.name} ${user.surname}" dan admin huquqi olinsinmi?`)) return;
                user.isAdmin = false;
                alert(`âœ… ${user.name} dan admin huquqi olindi!`);
            }
            localStorage.setItem('users', JSON.stringify(users));
            if (currentUser && currentUser.id === userId) {
                currentUser.isAdmin = user.isAdmin;
                localStorage.setItem('currentUser', JSON.stringify(currentUser));
                updateProfileDropdown();
            }
            displayUsers();
        }

        function updateMaxOrder(userId) {
            const input = document.getElementById(`max-${userId}`);
            if (!input) return;
            const value = parseInt(input.value);
            if (isNaN(value) || value < 1) { alert("To'g'ri qiymat kiriting (1-1000)"); return; }
            const user = users.find(u => u.id === userId);
            if (user) {
                user.maxOrder = value;
                localStorage.setItem('users', JSON.stringify(users));
                if (currentUser && currentUser.id === userId) {
                    currentUser.maxOrder = value;
                    localStorage.setItem('currentUser', JSON.stringify(currentUser));
                }
                alert(`Maksimal buyurtma miqdori ${value} ga o'zgartirildi`);
            }
        }

        function displayUsers() {
            const list = document.getElementById('usersList');
            if (!list) return;

            const adminCount = getAdminCount();
            const adminCountDisplay = document.getElementById('adminCountDisplay');
            if (adminCountDisplay) adminCountDisplay.innerText = adminCount;

            let html = '';
            if (users.length === 0) {
                html = `<tr><td colspan="6" style="text-align: center; padding: 30px; color: var(--text-muted);">ðŸ‘¥ Hozircha hech qanday foydalanuvchi yo'q</td></tr>`;
            } else {
                users.forEach(u => {
                    html += `<tr class="${u.blocked ? 'blocked' : ''}">
                        <td>${u.name}</td>
                        <td>${u.surname}</td>
                        <td style="font-size:12px;">${u.phone}</td>
                        <td>
                            ${u.blocked ? '<span class="badge badge-danger">Bloklangan</span>' : u.isAdmin ? '<span class="badge badge-admin">âšœï¸ Admin</span>' : '<span class="badge badge-success">Faol</span>'}
                        </td>
                        <td>
                            <input type="number" class="max-order-input" id="max-${u.id}" value="${u.maxOrder || 100}" min="1" max="1000">
                            <button class="update-max-btn" onclick="updateMaxOrder(${u.id})">âœ“</button>
                        </td>
                        <td style="white-space:nowrap;">
                            ${u.blocked ? `<button class="unblock-btn" onclick="toggleUserBlock(${u.id})">Ochish</button>` : `<button class="block-btn" onclick="toggleUserBlock(${u.id})">Bloklash</button>`}
                            ${u.isAdmin ? `<button class="remove-admin-btn" onclick="toggleAdminRole(${u.id})">Admin olish</button>` : `<button class="make-admin-btn" onclick="toggleAdminRole(${u.id})">Admin qilish</button>`}
                            <button class="delete-user-btn" onclick="deleteUser(${u.id})">ðŸ—‘</button>
                        </td>
                    </tr>`;
                });
            }
            list.innerHTML = html;
        }

        // ========================
        // PRODUCTS EDIT
        // ========================
        function displayProductsForEdit() {
            const grid = document.getElementById('productsGrid');
            if (!grid) return;

            grid.innerHTML = '';
            let filtered = products;
            if (adminSearchQuery.length > 0) filtered = products.filter(p => p.name.uz.toLowerCase().includes(adminSearchQuery));

            const adminSearchCount = document.getElementById('adminSearchCount');
            if (adminSearchCount) adminSearchCount.innerText = filtered.length;

            if (filtered.length === 0 && adminSearchQuery.length > 0) {
                grid.innerHTML = `<div class="no-results">ðŸ” Hech narsa topilmadi</div>`;
                return;
            }

            filtered.forEach(p => {
                const currentName = p.name.uz;
                grid.innerHTML += `
                    <div class="product-edit-card">
                        <img src="${p.img}" onclick="changeProductImage('${p.id}')" title="Rasmni o'zgartirish (ustiga bosing)">
                        <div style="margin-bottom:10px;"><span class="product-weight-badge">âš–ï¸ ${p.weight}</span><span class="product-category-badge">${p.cat}</span></div>
                        <input type="text" value="${currentName}" id="name-${p.id}" placeholder="Nomi">
                        <input type="text" value="${p.weight}" id="weight-${p.id}" placeholder="Miqdori">
                        <select id="cat-${p.id}">
                            <option value="milliy" ${p.cat === 'milliy' ? 'selected' : ''}>O'zbek</option>
                            <option value="osiyo" ${p.cat === 'osiyo' ? 'selected' : ''}>Osiyo</option>
                            <option value="salat" ${p.cat === 'salat' ? 'selected' : ''}>Salat</option>
                            <option value="kabob" ${p.cat === 'kabob' ? 'selected' : ''}>Kabob</option>
                            <option value="gazak" ${p.cat === 'gazak' ? 'selected' : ''}>Gazak</option>
                            <option value="ichimlik" ${p.cat === 'ichimlik' ? 'selected' : ''}>Ichimlik</option>
                            <option value="shirinlik" ${p.cat === 'shirinlik' ? 'selected' : ''}>Shirinlik</option>
                        </select>
                        <input type="number" value="${p.price}" id="price-${p.id}" placeholder="Narxi">
                        <button class="single-image-btn" onclick="changeSingleProductImage('${p.id}')">
                            <i class="fas fa-image"></i> Faqat shu mahsulot rasmini almashtirish
                        </button>
                        <button class="save-btn" onclick="saveProduct('${p.id}')">Saqlash</button>
                        <button class="delete-btn" onclick="deleteProduct('${p.id}')">O'chirish</button>
                    </div>`;
            });
        }

        function changeProductImage(productId) {
            const url = prompt("Yangi rasm URL manzilini kiriting:");
            if (url) {
                const product = products.find(p => p.id === productId);
                if (product) {
                    product.img = url;
                    localStorage.setItem('products', JSON.stringify(products));
                    displayProducts(currentCategory);
                    if (document.getElementById('products').classList.contains('active')) {
                        displayProductsForEdit();
                    }
                }
            }
        }

        function saveProduct(productId) {
            const product = products.find(p => p.id === productId);
            if (product) {
                product.name.uz = document.getElementById(`name-${productId}`)?.value || product.name.uz;
                product.weight = document.getElementById(`weight-${productId}`)?.value || product.weight;
                product.cat = document.getElementById(`cat-${productId}`)?.value || product.cat;
                product.price = parseInt(document.getElementById(`price-${productId}`)?.value) || product.price;
                localStorage.setItem('products', JSON.stringify(products));
                alert("âœ… Mahsulot saqlandi!");
                displayProducts(currentCategory);
                displayProductsForEdit();
            }
        }

        function deleteProduct(productId) {
            if (confirm("Rostdan ham o'chirmoqchimisiz?")) {
                const idx = products.findIndex(p => p.id === productId);
                if (idx !== -1) {
                    products.splice(idx, 1);
                    localStorage.setItem('products', JSON.stringify(products));
                    displayProducts(currentCategory);
                    displayProductsForEdit();
                    updateAdminStats();
                }
            }
        }

        function addNewProduct() {
            const name = document.getElementById('newProductName')?.value.trim();
            const cat = document.getElementById('newProductCat')?.value;
            const price = parseInt(document.getElementById('newProductPrice')?.value);
            const weight = document.getElementById('newProductWeight')?.value.trim();
            const img = document.getElementById('newProductImage')?.value.trim();

            if (!name) { alert("âŒ Mahsulot nomini kiriting!"); return; }
            if (!price || price <= 0) { alert("âŒ To'g'ri narx kiriting!"); return; }
            if (!weight) { alert("âŒ Mahsulot miqdorini kiriting!"); return; }

            const newProduct = {
                id: 'new' + Date.now(),
                cat,
                name: { uz: name, ru: name, en: name },
                weight,
                price,
                img: img || "https://images.unsplash.com/photo-1546069901-ba9599a7e63c?w=400",
                quantity: 0
            };
            products.push(newProduct);
            localStorage.setItem('products', JSON.stringify(products));
            alert("âœ… Yangi mahsulot qo'shildi!");

            const newProductName = document.getElementById('newProductName');
            const newProductPrice = document.getElementById('newProductPrice');
            const newProductWeight = document.getElementById('newProductWeight');

            if (newProductName) newProductName.value = '';
            if (newProductPrice) newProductPrice.value = '';
            if (newProductWeight) newProductWeight.value = '300g';

            displayProducts(currentCategory);
            updateAdminStats();
            switchAdminTab('products', document.querySelectorAll('.admin-tab')[3]);
            displayProductsForEdit();
        }

        function updateSearchPlaceholder() {
            const searchInput = document.getElementById('searchInput');
            if (searchInput) searchInput.placeholder = langData[currentLang].searchPlaceholder;
        }

        function filterAdminProducts() {
            const searchInput = document.getElementById('adminSearchInput');
            const clearBtn = document.getElementById('adminClearSearch');
            const statsDiv = document.getElementById('adminSearchStats');

            adminSearchQuery = searchInput?.value.toLowerCase().trim() || '';
            if (clearBtn) clearBtn.style.display = adminSearchQuery.length > 0 ? 'block' : 'none';
            if (statsDiv) statsDiv.style.display = adminSearchQuery.length > 0 ? 'block' : 'none';
            displayProductsForEdit();
        }

        function clearAdminSearch() {
            const searchInput = document.getElementById('adminSearchInput');
            const clearBtn = document.getElementById('adminClearSearch');
            const statsDiv = document.getElementById('adminSearchStats');

            if (searchInput) searchInput.value = '';
            adminSearchQuery = '';
            if (clearBtn) clearBtn.style.display = 'none';
            if (statsDiv) statsDiv.style.display = 'none';
            displayProductsForEdit();
        }

        function goToProduct(productId) {
            const element = document.getElementById(`card-${productId}`);
            if (element) {
                element.scrollIntoView({ behavior: 'smooth', block: 'center' });
                element.style.transform = 'scale(1.02)';
                element.style.borderColor = 'var(--primary)';
                setTimeout(() => { element.style.transform = ''; }, 1000);
            }
        }

        // INIT
        createProfileDropdown();
        changeLang('uz');
        updateSearchPlaceholder();
        updateProfileDropdown();
        updateCheckoutForm();
        updateLoginRequiredMessage();

        const addressInput = document.getElementById('addressInput');
        if (addressInput) addressInput.value = '';
    </script>
</body>

</html>